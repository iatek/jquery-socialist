{"ts":1343072953118,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"$(document).data('queue',[]); // set up a queue to buffer elements loaded by deferreds\n        \nvar rssParser = {\n    name: \"rss\",\n    resultsSelector: \"data.responseData.feed.entries\",\n    heading: \"RSS\",\n    headingSelector: \"item.title\",\n    txtSelector: null,\n    imgSrc: null,\n    imgSrcSelector: \"$(item.content).find(\\\"img:lt(1)\\\").attr(\\\"src\\\")\",\n    imgSrcProcessor: null,\n    imgHref: \"\",\n    imgHrefSelector: \"$(item.content).find(\\\"img:lt(1)\\\").parent().attr(\\\"href\\\")\",\n    imgAltSelector: \"item.contentSnippet\",\n    link: \"\",\n    linkSelector: null,\n    linkTipSelector: \"item.contentSnippet\",\n    preProcessor: null,\n    preCondition: \"$(item.content).find(\\\"img[src]:contains('http')\\\")\"\n};\n\n\nvar cParser = {\n     name: \"craigslist\",\n     resultsSelector:\"$(data.responseText).find(\\\"p.row:contains('pic'):lt(10)\\\")\",\n     heading: \"Craigs\",\n     headingSelector: \"$elem.find(\\\"a,font\\\").text()\",\n     txtSelector: \"\",\n     imgSrcSelector: \"\\\"http://images.craigslist.org/\\\"+$elem.find(\\\"span.ih[id]\\\").attr(\\\"id\\\")\",\n     imgSrcProcessor: \"imgSrc.replace(\\\"images:\\\",\\\"\\\")\",\n     imgHrefSelector: \"$elem.find(\\\"a\\\").attr(\\\"href\\\")\",\n     imgAltSelector: \"fixCase($(item).find(\\\"a,font\\\").text())\",\n     link: \"#\",\n     linkSelector: null,\n     linkTooltip: null,\n     preProcessor: null,\n     preCondition: \"true\"\n}\n\nvar liParser = {\n    name: \"linkedin\",\n    resultsSelector: \"data.responseData.feed.entries\",\n    heading: \"RSS\",\n    headingSelector: \"item.title\",\n    txtSelector: null,\n    imgSrc: null,\n    imgSrcSelector: \"$(item.content).find(\\\"img:lt(1)\\\").attr(\\\"src\\\")\",\n    imgSrcProcessor: null,\n    imgHref: \"\",\n    imgHrefSelector: \"$(item.content).find(\\\"img:lt(1)\\\").parent().attr(\\\"href\\\")\",\n    imgAltSelector: \"item.contentSnippet\",\n    link: \"\",\n    linkSelector: null,\n    linkTipSelector: \"item.contentSnippet\",\n    preProcessor: null,\n    preCondition: \"$(item.content).find(\\\"img[src]:contains('http')\\\")\"\n};\n   \n   \n       \nvar firstPage = function(){    // load the first page\n    console.log(\"done loading\");    \n};\n\n// p\n(function($) {\n\n    $.fn.wall = function(method) {\n\n        var methods = {\n\n            init : function(options) {\n                this.wall.settings = $.extend({}, this.wall.defaults, options);\n                networks = this.wall.settings.networks;  \n                processList = [];        \n                return this.each(function() {\n                    var $element = $(this),\n                    element = this;\n                    \n                    networks.forEach(function(item) {\n                        //get network settings\n                        nw = helpers.networkDefs[item];\n                        nw.cb=function(newElement){$(document).data('queue').push(newElement)};\n                        processList.push(helpers.doRequest(nw.url,nw.dataType,nw.cb,nw.parser));\n\n                        $.when.apply(null, processList).then(function(){\n                                \n                            //console.log(\"all done\");\n                            var $con=$('#content');\n                            var queue = $(document).data('queue');\n                            var urls = $(document).data('urls');\n                            \n                            if (($con).hasClass(\"isotope\")) { // have we already built isotope?\n                            \n                                var $newStuff=$('<div/>');\n                            \n                                for (var i = 0; i < queue.length; i++) {\n                                    queue[i].children().appendTo($newStuff);\n                                }\n                                \n                                $con.isotope('insert',$newStuff.children(),function(){\n                                \n                                });\n                            \n                            }\n                            else {\n\n                                //console.log(queue.length)\n                                \n                                for (var i = 0; i < queue.length; i++) {\n                                    queue[i].children().appendTo($con);\n                                    //queue[i].appendTo($con);\n                                }\n                                \n                                $con.imagesLoaded(function(){\n                                    $con.isotope({\n                                        itemSelector : '.outer',\n                                        sortBy : 'random'\n                                    });\n                                });\n                            }\n                            \n                            $(document).data('queue',[]); // clear the queue;\n                            //callback();\n\n                        },function(){\n                            //console.log('some requests failed.')\n                        });\n                        \n                    });\n                    \n                });\n\n            },\n\n            public_method: function() {\n                // code goes here\n            }\n\n        }\n\n        var helpers = {\n            loader: function loader(pageNo,resources,callback) {\n                \n            },\n            parseResults: function(apiParser,data) {\n                \n                var $cont=$('<div></div>');\n                //console.log(JSON.stringify(data));\n\n                $.each(eval(apiParser.resultsSelector), function(i,item) {\n\n                    var $elem = $(item);\n                    \n                    if (eval(apiParser.preCondition)) {\n                        var $div = $('<div class=\"outer\"></div>');           \n                                        \n                        if (apiParser.headingSelector!=null){\n                            heading = fixCase(shorten(eval(apiParser.headingSelector),29));\n                        }\n                        else {\n                            heading = apiParser.heading;\n                        }\n                        \n                        txt=eval(apiParser.txtSelector);\n                        if (txt!=null) {\n                            txt = shorten(txt,75);\n                        }\n                        else {\n                            txt = \"\";\n                        }\n                        \n                        // link href\n                        linkHref=\"#\";\n                        \n                        // link title - tooltip\n                        if (apiParser.linkTip==null){\n                            linkTip=\"in1\";\n                        }\n                        else {\n                            linkTip=eval(apiParser.linkTipSelector);\n                        }\n                        \n                        // image src\n                        if (apiParser.imgSrcSelector==null){\n                            imgSrc=apiParser.imgSrc;\n                        }\n                        else {\n                            imgSrc=eval(apiParser.imgSrcSelector);\n                            //console.log(imgSrc);\n                            if (imgSrc!=null && apiParser.imgSrcProcessor!=null){\n                                imgSrc=eval(apiParser.imgSrcProcessor);\n                            }\n                            else if (imgSrc==null) {\n                                imgSrc=\"--\";\n                            }\n                        }\n                        \n                        // image link\n                        if (apiParser.imgHrefSelector==null){\n                            imgHref=apiParser.imgHref;\n                        }\n                        else {\n                            imgHref=eval(apiParser.imgHrefSelector);\n                        }\n\n                        // image alt\n                        if (apiParser.imgAltSelector==null){\n                            imgAlt=\"in1\";\n                        }\n                        else {\n                            imgAlt=eval(apiParser.imgAltSelector);\n                        }\n                        \n                        // tags\n                        var tags = [];\n                        if (apiParser.tagsSelector) {\n                            tags = eval(apiParser.tagsSelector);\n                        }\n                        if (apiParser.queryTags) {\n                            tags.push(apiParser.queryTags);\n                        }\n                        \n                        var itemObj = {\n                            api:apiParser.name,\n                            tags:tags,\n                            heading:fixCase(heading),\n                            txt:txt,\n                            img:{\"src\":imgSrc,\"href\":imgHref,\"alt\":imgAlt},\n                            link:{\"href\":linkHref,\"title\":imgAlt}\n                        };\n                        \n                        $div = helpers.buildItem(itemObj,$div);\n                        $div.data(\"res\",itemObj);\n                        $div.appendTo($cont);\n                    }\n                }); // end each\n\n                return $cont;\n            },\n            doRequest: function(url,dataType,cb,parser){\n                console.log(\"AJAX \" + dataType + \":\" + url);\n        \n                return $.ajax({\n                    url: url, //encodeURIComponent(url);\n                    type: \"GET\",\n                    dataType: dataType,\n                    crossDomain: true,\n                    success: function(data) {\n                        if (parser)\n                            cb($(helpers.parseResults(parser,data)));\n                        else\n                            cb(data);\n                    },\n                    error: function(status) {\n                        //console.log(\"request error:\"+url);   \n                    }\n                });\n                \n                return;\n            },\n            buildItem: function(itemObj,container) {\n                var $headDiv = $('<div class=\"head\"/>');\n                var $source = $('<div class=\"source\">'+itemObj.heading+'</div>');\n                \n                var $imgDiv = $('<div class=\"photo\"/>');\n                var $imglnk = $('<a href=\"'+itemObj.img.href+'\" title=\"'+itemObj.link.title+'\"></a>');\n                var $img = $('<image width=130 src=\"'+itemObj.img.src+'\" alt=\"'+itemObj.img.alt+'\">');\n                \n                var $bottomDiv = $('<div class=\"bottom\"><a href=\"#\" title='+itemObj.api+'>fb</a>|<a href=\"#\" class=\"x\">tw</a></div>');\n                var $footDiv = $('<div class=\"foot\"/>');\n                \n                $headDiv.appendTo(container);\n                \n                $img.appendTo($imglnk);\n                $imglnk.appendTo($imgDiv);\n                $imgDiv.appendTo(container);\n                \n                $bottomDiv.appendTo(container);\n                \n                $source.appendTo($footDiv);\n                $footDiv.appendTo(container);\n                \n                return container;\n            },\n            networkDefs: {\n                rss:{url:\"http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=http://www.makebetterwebsites.com/feed/\",dataType:\"json\",parser:rssParser},\n                facebook:{url:'http://www.facebook.com/xxx',img:''},\n                twitter:{url:'http://twitter.com/xxx',img:''},\n                linkedin:{url:'http://www.linkedin.com/company/wildfire-interactive-inc./',img:'http://designchemical.com/blog/wp-content/themes/dc2011/dcsnt/images/icons/linkedin.png',dataType:\"text\",parser:liParser},\n                in1:{url:'http://in1.com/cast',img:'<img src=\"\">'},\n                tumblr:{url:'http://www.tumblr.com/',img:''},\n                digg:{url:'http://digg.com/',img:''},\n                googleplus:{url:'https://plus.google.com/105588557807820541973/posts',img:'http://designchemical.com/blog/wp-content/themes/dc2011/dcsnt/images/icons/google.png'},\n                pinterest:{url:'http://pinterest.com/pin/create/button/?url=xxx&media=&description=',img:''},\n                craigs:{url:\"http://providence.craigslist.org/search/?areaID=378&catAbb=sss&query=one\",dataType:\"text\",parser:cParser}\n            }\n        }\n\n        if (methods[method]) {\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n        } else if (typeof method === 'object' || !method) {\n            return methods.init.apply(this, arguments);\n        } else {\n            $.error( 'Method \"' +  method + '\" does not exist in wall plugin');\n        }\n\n    }\n\n    $.fn.wall.defaults = {\n       networks: ['in1','facebook','twitter','linkedin']\n    }\n\n    $.fn.wall.settings = {}\n\n})(jQuery);    \n\n// helpers-----------------\n\nfunction escapeData(jsonStr) {\n\n    return jsonStr.replace(/\\\\u0009/gi, \"\\t\")\n        .replace(/\\\\u000a/gi, \"\\n\")\n        .replace(/\\\\u000d/gi, \"\\r\")\n        //.replace(/\\\\\"/gi, '')\n        .replace(/\\\\\"/gi, '\"\"')\n        .replace(/\\\\n/gi, \"\\n\")\n        .replace(/\\\\t/gi, \"\\t\")\n        .replace(/\\\\'/gi, \"\\'\")\n        .replace(/\"/g, \"\");\n\n}\n\n/*\n gets a querystring parameter value\n*/\nfunction getParameterByName(name) {\n    name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\n    var regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\";\n    var regex = new RegExp(regexS);\n    var results = regex.exec(window.location.href);\n    if(results == null)\n        return \"\";\n    else\n        return decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n\nfunction jsonGetArrayOfObjectNames(jsonObj) {\n    var a=[];\n\n    if (jsonObj == null)\n        return a;\n        \n    var obj = JSON.parse(JSON.stringify(jsonObj),function (key, value) {\n        if (typeof value === 'object' && key.length>0) {  \n            a.push(key);\n        }\n        return a;\n        });\n    \n    return a;\n}\n\nfunction fixCase(string)\n{\n    return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n}\n\nfunction shorten(string,length)\n{\n    if (string==null)\n        return;\n\n    if (string.length > length)\n        return string.substring(0,length) + \"..\";\n    else\n        return string;\n}\n\n"]],"start1":0,"start2":0,"length1":0,"length2":14098}]],"length":14098}
{"contributors":[],"silentsave":false,"ts":1343214607109,"patch":[[{"diffs":[[-1,"$(document).data('queue',[]); // set up a queue to buffer elements loaded by deferreds\n        \nvar rssParser = {\n    name: \"rss\",\n    resultsSelector: \"data.responseData.feed.entries\",\n    heading: \"RSS\",\n    headingSelector: \"item.title\",\n    txtSelector: null,\n    imgSrc: null,\n    imgSrcSelector: \"$(item.content).find(\\\"img:lt(1)\\\").attr(\\\"src\\\")\",\n    imgSrcProcessor: null,\n    imgHref: \"\",\n    imgHrefSelector: \"$(item.content).find(\\\"img:lt(1)\\\").parent().attr(\\\"href\\\")\",\n    imgAltSelector: \"item.contentSnippet\",\n    link: \"\",\n    linkSelector: null,\n    linkTipSelector: \"item.contentSnippet\",\n    preProcessor: null,\n    preCondition: \"$(item.content).find(\\\"img[src]:contains('http')\\\")\"\n};\n\n\nvar cParser = {\n     name: \"craigslist\",\n     resultsSelector:\"$(data.responseText).find(\\\"p.row:contains('pic'):lt(10)\\\")\",\n     heading: \"Craigs\",\n     headingSelector: \"$elem.find(\\\"a,font\\\").text()\",\n     txtSelector: \"\",\n     imgSrcSelector: \"\\\"http://images.craigslist.org/\\\"+$elem.find(\\\"span.ih[id]\\\").attr(\\\"id\\\")\",\n     imgSrcProcessor: \"imgSrc.replace(\\\"images:\\\",\\\"\\\")\",\n     imgHrefSelector: \"$elem.find(\\\"a\\\").attr(\\\"href\\\")\",\n     imgAltSelector: \"fixCase($(item).find(\\\"a,font\\\").text())\",\n     link: \"#\",\n     linkSelector: null,\n     linkTooltip: null,\n     preProcessor: null,\n     preCondition: \"true\"\n}\n\nvar liParser = {\n    name: \"linkedin\",\n    resultsSelector: \"data.responseData.feed.entries\",\n    heading: \"RSS\",\n    headingSelector: \"item.title\",\n    txtSelector: null,\n    imgSrc: null,\n    imgSrcSelector: \"$(item.content).find(\\\"img:lt(1)\\\").attr(\\\"src\\\")\",\n    imgSrcProcessor: null,\n    imgHref: \"\",\n    imgHrefSelector: \"$(item.content).find(\\\"img:lt(1)\\\").parent().attr(\\\"href\\\")\",\n    imgAltSelector: \"item.contentSnippet\",\n    link: \"\",\n    linkSelector: null,\n    linkTipSelector: \"item.contentSnippet\",\n    preProcessor: null,\n    preCondition: \"$(item.content).find(\\\"img[src]:contains('http')\\\")\"\n};\n   \n   \n       \nvar firstPage = function(){    // load the first page\n    console.log(\"done loading\");    \n};\n\n// p\n(function($) {\n\n    $.fn.wall = function(method) {\n\n        var methods = {\n\n            init : function(options) {\n                this.wall.settings = $.extend({}, this.wall.defaults, options);\n                networks = this.wall.settings.networks;  \n "],[1,"// plugin\n;(function ( $, window, document, undefined ) {\n\n    $.fn.socialist = function(method) {\n\n        var methods = {\n\n            init : function(options) {\n                this.socialist.settings = $.extend({}, this.socialist.defaults, options);\n                var networks = this.socialist.settings.networks,\n                    settings = this.socialist.settings;\n                    queue = [],\n                    processList = [];"],[0,"        "],[1,"\n"],[0,"       "],[-1,"processList = [];"],[0,"    "]],"start1":0,"start2":0,"length1":2356,"length2":464},{"diffs":[[0,"        "],[-1,""],[0,""],[1,"    "],[0,"element "]],"start1":571,"start2":571,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"console.log(item)\n                        var "],[0,"nw = hel"]],"start1":737,"start2":737,"length1":16,"length2":62},{"diffs":[[0,"efs[item"],[1,".name"],[0,"];\n     "]],"start1":812,"start2":812,"length1":16,"length2":21},{"diffs":[[0,"nt){"],[-1,"$(document).data('"],[0,"queue"],[-1,"')"],[0,".pus"]],"start1":875,"start2":875,"length1":33,"length2":13},{"diffs":[[0,"    "],[-1,"processList.push(helpers.doRequest(nw.url,nw.dataType,nw.cb,nw.parser))"],[1,"reqUrl = nw.url"],[0,";\n"],[-1,"\n"],[0,"    "]],"start1":924,"start2":924,"length1":82,"length2":25},{"diffs":[[0,"    "],[-1,"$.when.apply(null, processList).then(function(){\n                                \n                            //console.log(\"all done\");\n                            var $con=$('#content');\n                            var queue = $(document).data('queue'"],[1,"reqUrl = reqUrl.replace(\"|id|\",item.id);\n                        reqUrl = reqUrl.replace(\"|areaName|\",item.areaName"],[0,");\n "]],"start1":965,"start2":965,"length1":261,"length2":123},{"diffs":[[0,"    "],[-1,"    var u"],[1,"reqU"],[0,"rl"],[-1,"s"],[0," = "],[-1,"$(document).data('urls'"],[1,"reqUrl.replace(\"|num|\",settings.maxResults"],[0,");\n "]],"start1":1107,"start2":1107,"length1":46,"length2":59},{"diffs":[[0,"                "],[-1,"\n"],[0,"                "]],"start1":1177,"start2":1177,"length1":33,"length2":32},{"diffs":[[0,"    "],[-1,"if (($con).hasClass(\"isotope\")) { // have we already built isotope?\n                            \n                                var $newStuff=$('<div/>');\n"],[1,"   processList.push(helpers.doRequest(reqUrl,nw.dataType,nw.cb,nw.parser,settings));\n\n                        $.when.apply($, processList).then(function(){\n    "],[0,"    "]],"start1":1217,"start2":1217,"length1":164,"length2":168},{"diffs":[[0,"               \n"],[-1,"    "],[0,"                "]],"start1":1394,"start2":1394,"length1":36,"length2":32},{"diffs":[[0,"                "],[-1,"     "],[0,"queue[i].childre"]],"start1":1494,"start2":1494,"length1":37,"length2":32},{"diffs":[[0,"pendTo($"],[-1,"newStuff"],[1,"element"],[0,");\n     "]],"start1":1532,"start2":1532,"length1":24,"length2":23},{"diffs":[[0,"    "],[-1," }\n                                \n                                $con.isotope('insert',$newStuff.children(),function(){\n                                \n                                });\n                            \n                            }\n                            else {\n\n                                //console.log(queue.length)\n                                \n                                for (var i = 0; i < queue.length; i++) {\n                                    queue[i].children().appendTo($con);\n                                    //queue[i].appendTo($con);\n                                }\n                                \n                                $con.imagesLoaded(function(){\n                                    $con.isotope({\n                                        itemSelector : '.outer',\n                                        sortBy : 'random'\n                                    });\n                                });\n                            }\n                            \n                            $(document).data('queue',[]); // clear the queue;\n                            //callback();\n\n                        },function(){\n                            //console.log('some requests failed.')\n                        });\n                        \n                    });\n                    \n                });\n\n            },\n\n            public_method: function() {\n                // code goes here"],[1,"console.log(\"app\"+i);\n                            }\n                          \n                            //queue = [];\n                            sortParam = '';\n                            if (settings.random){sortParam='random'};\n                            \n                            //done - load isotope?\n                            if (settings.isotope) {\n                                $element.imagesLoaded(function(){                                  //\n                                    console.log(\"loading iso\");\n                                $element.isotope ({\n                                    transformsEnabled: false,\n                                    sortBy : sortParam\n                                })\n                            });\n                                                       }\n                        },function(){\n                            console.log('some requests failed.')\n                        });\n                    });\n                });"],[0,"\n   "]],"start1":1577,"start2":1577,"length1":1468,"length2":1008},{"diffs":[[0,";\n            }\n"],[-1,"\n"],[0,"        }\n\n     "]],"start1":2580,"start2":2580,"length1":33,"length2":32},{"diffs":[[0,"    "],[-1,"loader: function loader(pageNo,resources,callback) {\n                \n            },\n            parseResults: function(apiParser,data) {\n                \n                var $cont=$('<div></div>');\n                //console.log(JSON.stringify(data));\n\n                $.each(eval(apiParser.resultsSelector), function(i,item) {\n\n                    var $elem = $(item);\n                    \n                    if (eval(apiParser.preCondition)) {\n                        var $div = $('<div class=\"outer\"></div>');           \n                                        \n                        if (apiParser.headingSelector!=null){\n                            heading = fixCase(shorten(eval(apiParser.headingSelector),29));\n                        }\n                        else {\n                            heading = apiParser.heading;\n                        }\n                        \n                        txt=eval(apiParser.txtSelector);\n                        if (txt!=null) {\n                            txt = shorten(txt,75);\n                        }\n                        else {\n                            txt = \"\";\n                        }\n                        \n                        // link href\n                        linkHref=\"#\";\n                        \n                        // link title - tooltip\n                        if (apiParser.linkTip==null){\n                            linkTip=\"in1\";\n                        }\n                        else {\n                            linkTip=eval(apiParser.linkTipSelector);\n                        }\n                        \n                        // image src\n                        if (apiParser.imgSrcSelector==null){\n                            imgSrc=apiParser.imgSrc;\n                        }\n                        else {\n                            imgSrc=eval(apiParser.imgSrcSelector);\n                            //console.log(imgSrc);\n                            if (imgSrc!=null && apiParser.imgSrcProcessor!=null){\n                                imgSrc=eval(apiParser.imgSrcProcessor);\n                            }\n                            else if (imgSrc==null) {\n                                imgSrc=\"--\";\n                            }\n                        }\n                        \n                        // image link\n                        if (apiParser.imgHrefSelector==null){\n                            imgHref=apiParser.imgHref;\n                        }\n                        else {\n                            imgHref=eval(apiParser.imgHrefSelector);\n                        }\n\n                        // image alt\n                        if (apiParser.imgAltSelector==null){\n                            imgAlt=\"in1\";\n                        }\n                        else {\n                            imgAlt=eval(apiParser.imgAltSelector);\n                        }\n                        \n                        // tags\n                        var tags = [];\n                        if (apiParser.tagsSelector) {\n                            tags = eval(apiParser.tagsSelector);\n                        }\n                        if (apiParser.queryTags) {\n                            tags.push(apiParser.queryTags);\n                        }\n                        \n                        var itemObj = {\n                            api:apiParser.name,\n                            tags:tags,\n                            heading:fixCase(heading),\n                            txt:txt,\n                            img:{\"src\":imgSrc,\"href\":imgHref,\"alt\":imgAlt},\n                            link:{\"href\":linkHref,\"title\":imgAlt}\n                        };\n                        \n                        $div = helpers.buildItem(itemObj,$div);\n                        $div.data(\"res\",itemObj);\n                        $div.appendTo($cont);\n                    }\n                }); // end each\n\n                return $cont;\n            },\n            doRequest: function(url,dataType,cb,parser){\n                console.log(\"AJAX"],[1,"parseResults: function(apiParser,data,settings) {\n                \n                var container=$('<div></div>');\n                console.log(JSON.stringify(data));\n                                                   \n                apiParser.resultsSelector = apiParser.resultsSelector.replace('|num|',settings.maxResults);             \n                    \n                $.each(eval(apiParser.resultsSelector), function(i,item) {\n\n                    var $elem = $(item);\n                    //console.log(apiParser.name\n                    try{\n                    \n                        if (eval(apiParser.preCondition)) {\n                            var $div = $('<div class=\"socialist\"></div>');\n                            \n                            $div.addClass('socialist-'+apiParser.name);\n                                            \n                            if (apiParser.headingSelector!=null){\n                                heading = helpers.shorten(helpers.stripHtml(eval(apiParser.headingSelector)),settings.headingLength);\n                            }\n                            else {\n                                heading = apiParser.heading;\n                            }\n                            \n                            txt=eval(apiParser.txtSelector);\n                            if (txt!=null) {\n                                txt = helpers.shorten(txt,settings.textLength);\n                            }\n                            else {\n                                txt = \"\";\n                            }\n\n                            // link href\n                            linkHref=\"#\";\n                            \n                            // link title - tooltip\n                            if (apiParser.linkTip==null){\n                                linkTip=\"in1\";\n                            }\n                            else {\n                                linkTip=eval(apiParser.linkTipSelector);\n                            }\n                            \n                            // image src\n                            if (apiParser.imgSrcSelector==null){\n                                imgSrc=apiParser.imgSrc;\n                            }\n                            else {\n                                imgSrc=eval(apiParser.imgSrcSelector);\n                                if (imgSrc!=null && apiParser.imgSrcProcessor!=null){\n                                    imgSrc=eval(apiParser.imgSrcProcessor);\n                                }\n                                else if (imgSrc==null) {\n                                    imgSrc=\"\";\n                                }\n                            }\n                            \n                            // image link\n                            if (apiParser.imgHrefSelector==null){\n                                imgHref=apiParser.imgHref;\n                            }\n                            else {\n                                imgHref=eval(apiParser.imgHrefSelector);\n                            }\n    \n                            // image alt\n                            if (apiParser.imgAltSelector!=null){\n                                imgAlt=eval(apiParser.imgAltSelector);\n                            }\n                           \n                            date=eval(apiParser.dateSelector);\n                            if (typeof date==\"undefined\" || date===null) {\n                                date = \"\";\n                            }\n                            \n                            var itemObj = {\n                                api:apiParser.name,\n                                heading:heading,\n                                txt:txt,\n                                img:{\"src\":imgSrc,\"href\":imgHref,\"alt\":imgAlt},\n                                link:{\"href\":linkHref,\"title\":imgAlt},\n                                date:date\n                            };\n                            \n                            $div = helpers.buildItem(itemObj,$div,settings.fields);\n                            $div.appendTo(container);\n                        }\n                             \n                    }\n                    catch (e) {\n                       console.log(\"parse error:\"+apiParser.name+\":\"+e)\n                    }\n                }); // end each\n\n               return container;\n            },\n            doRequest: function(url,dataType,cb,parser,settings){\n                console.log(\"ajax:"],[0," \" +"]],"start1":2639,"start2":2639,"length1":4062,"length2":4505},{"diffs":[[0,"pe,\n"],[-1,"                    crossDomain: true,\n"],[0,"    "]],"start1":7335,"start2":7335,"length1":47,"length2":8},{"diffs":[[0,"ser,data"],[-1,""],[0,""],[1,",settings"],[0,")));\n   "]],"start1":7478,"start2":7478,"length1":16,"length2":25},{"diffs":[[0,"    "],[-1,"//console.log(\"request error:\"+url);   \n                    }\n                });\n                \n                return;\n            },\n            buildItem: function(itemObj,container) {\n                var $headDiv = $('<div class=\"head\"/>');\n                var $source = $('<div class=\"source\">'+itemObj.heading+'</div>');\n                \n                var $imgDiv = $('<div class=\"photo\"/>');\n                var $imglnk = $('<a href=\"'+itemObj.img.href+'\" title=\"'+itemObj.link.title+'\"></a>');\n                var $img = $('<image width=130 src=\"'+itemObj.img.src+'\" alt=\"'+itemObj.img.alt+'\">');\n                \n                var $bottomDiv = $('<div class=\"bottom\"><a href=\"#\" title='+itemObj.api+'>fb</a>|<a href=\"#\" class=\"x\">tw</a></div>');\n                var $footDiv = $('<div class=\"foot\"/>');\n                \n                $headDiv.appendTo(container);\n                \n                $img.appendTo($imglnk);\n                $imglnk.appendTo($imgDiv);\n                $imgDiv.appendTo(container);\n                \n                $bottomDiv.appendTo(container);\n                \n                $source.appendTo($footDiv);\n                $footDiv.appendTo(container);\n                \n                return container;\n            },\n            networkDefs: {\n                rss:{url:\"http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=http://www.makebetterwebsites.com/feed/\",dataType:\"json\",parser:rssParser},\n                facebook:{url:'http://www.facebook.com/xxx',img:''},\n                twitter:{url:'http://twitter.com/xxx',img:''},\n                linkedin:{url:'http://www.linkedin.com/company/wildfire-interactive-inc./',img:'http://designchemical.com/blog/wp-content/themes/dc2011/dcsnt/images/icons/linkedin.png',dataType:\"text\",parser:liParser},\n                in1:{url:'http://in1.com/cast',img:'<img src=\"\">'},\n                tumblr:{url:'http://www.tumblr.com/',img:''},\n                digg:{url:'http://digg.com/',img:''},\n                googleplus:{url:'https://plus.google.com/105588557807820541973/posts',img:'http://designchemical.com/blog/wp-content/themes/dc2011/dcsnt/images/icons/google.png'},\n                pinterest:{url:'http://pinterest.com/pin/create/button/?url=xxx&media=&description=',img:''},\n                craigs:{url:\"http://providence.craigslist.org/search/?areaID=378&catAbb=sss&query=one\",dataType:\"text\",parser:cParser}\n            }\n        }\n\n        if (methods[method]) {\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n        } else if (typeof method === 'object' || !method) {\n            return methods.init.apply(this, arguments);\n        } else {\n            $.error( 'Method \"' +  method + '\" does not exist in wall plugin');\n        }\n\n    }\n\n    $.fn.wall.defaults = {\n       networks: ['in1','facebook','twitter','linkedin']\n    }\n\n    $.fn.wall.settings = {}\n\n})(jQuery);    \n\n// helpers-----------------\n\nfunction escapeData(jsonStr) {\n\n    return jsonStr.replace(/\\\\u0009/gi, \"\\t\")\n        .replace(/\\\\u000a/gi, \"\\n\")\n        .replace(/\\\\u000d/gi, \"\\r\")\n        //.replace(/\\\\\"/gi, '')\n        .replace(/\\\\\"/gi, '\"\"')\n        .replace(/\\\\n/gi, \"\\n\")\n        .replace(/\\\\t/gi, \"\\t\")\n        .replace(/\\\\'/gi, \"\\'\")\n        .replace(/\"/g, \"\");\n\n}\n\n/*\n gets a querystring parameter value\n*/\nfunction getParameterByName(name) {\n    name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\n    var regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\";\n    var regex = new RegExp(regexS);\n    var results = regex.exec(window.location.href);\n    if(results == null)\n        return \"\";\n    else\n        return decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n\nfunction jsonGetArrayOfObjectNames(jsonObj) {\n    var a=[];\n\n    if (jsonObj == null)\n        return a;\n        \n    var obj = JSON.parse(JSON.stringify(jsonObj),function (key, value) {\n        if (typeof value === 'object' && key.length>0) {  \n            a.push(key);\n        }\n        return a;\n        });\n    \n    return a;\n}\n\nfunction fixCase(string)\n{\n    return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n}\n\nfunction shorten(string,length)\n{\n    if (string==null)\n        return;\n\n    if (string.length > length)\n        return string.substring(0,length) + \"..\";\n    else\n        return string;\n}\n\n"],[1,"console.log(\"request error:\"+url);   \n                    }\n                });\n                \n                //return;\n            },\n            buildItem: function(itemObj,container,fields) {\n  \n                var $headDiv = $('<div class=\"head\"/>'),\n                    $source = $('<div class=\"source\"></div>'),\n                    $sourceLnk = $('<div><a href=\"'+itemObj.img.href+'\" title=\"'+itemObj.link.title+'\"></a></div>'),\n                    $apiSpan = $('<span class=\"api\">'+itemObj.api+'</span>'),\n                    \n                    $contentDiv = $('<div class=\"content\"/>'),\n                    $imgLnk = $('<a href=\"'+itemObj.img.href+'\" title=\"'+itemObj.link.title+'\"></a>'),\n                    $img = $('<image src=\"'+itemObj.img.src+'\" alt=\"'+itemObj.img.alt+'\">'),\n                    $shareDiv = $('<div class=\"share\"><a href=\"#\" title='+itemObj.api+'>fb</a>|<a href=\"#\" class=\"x\">tw</a></div>'),\n                    $dateSpan = $('<span class=\"date\"/>'),\n                    $footDiv = $('<div class=\"foot\"/>');\n                \n               /*\n                  if (fields.indexOf('heading')!=-1){                                                                            $headLnk.text(itemObj.heading);\n                      $headLnk.appendTo($headDiv);                                                    \n                      $headDiv.appendTo(container);\n                }\n                */\n                \n                if (fields.indexOf('image')!=-1 && itemObj.img.src){                                   \n                    $img.appendTo($imgLnk);\n                    $imgLnk.appendTo($contentDiv);\n                    //$imgDiv.addClass('socialist-'+itemObj.api);\n               }\n\n                if (fields.indexOf('text')!=-1){                                                                      $('<div>'+itemObj.txt+'</div>').appendTo($contentDiv);\n                }\n                \n                $contentDiv.appendTo(container);            \n                                                   \n                if (fields.indexOf('share')!=-1){\n                    $shareDiv.appendTo(container);\n                }\n                \n                \n                $source.appendTo($footDiv);\n                 if (fields.indexOf('source')!=-1){                                                                      $sourceLnk.text(itemObj.heading);\n                  $sourceLnk.appendTo($source);                                                                                        \n                }\n                \n                 if (fields.indexOf('date')!=-1){\n                    $dateSpan.text(itemObj.date);                            \n                   $dateSpan.appendTo($source);\n                }\n                                                   \n                $apiSpan.appendTo($source);\n                $footDiv.appendTo(container);\n                \n                return container;\n            },\n            networkDefs: {\n                rss:{url:\"http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=7&callback=?&q=|id|\",dataType:\"json\",parser:{\n                    name: \"rss\",\n                    resultsSelector: \"data.responseData.feed.entries\",\n                    heading: \"RSS\",\n                    headingSelector: \"data.responseData.feed.title\",\n                    txtSelector: \"item.title\",\n                    dateSelector: \"item.publishedDate.substring(0,17)\",\n                    imgSrc: null,\n                    imgSrcSelector: \"$(item.content).find(\\\"img:lt(1)\\\").attr('src')\",\n                    imgSrcProcessor: null,\n                    imgHref: \"\",\n                    imgHrefSelector: \"$(item.content).find(\\\"img:lt(1)\\\").parent().attr('href')\",\n                    imgAltSelector: \"item.contentSnippet\",\n                    link: \"\",\n                    linkSelector: null,\n                    linkTipSelector: \"item.contentSnippet\",\n                    preProcessor: null,\n                    preCondition: \"$(item.content).find(\\\"img[src]:contains('http')\\\")\"\n                    }\n                },\n                facebook:{url:'http://graph.facebook.com/|id|/photos',img:'',dataType:'json',parser:{name: \"facebook\",\n                    resultsSelector: \"data.data\",\n                    heading: \"Facebook\",\n                    headingSelector: \"item.from.name\",\n                    txtSelector: \"item.from.name\",\n                    dateSelector: \"helpers.timeAgo(item.created_time)\",\n                    imgSrcSelector: \"(item.images[2].source)||'/spacer.gif'\",\n                    imgSrcProcessor: null,\n                    imgHrefSelector: \"item.link\",\n                    imgAltSelector: \"item.from.name.substring(0,12)\",\n                    link: \"#\",\n                    preProcessor: null,\n                    preCondition: \"true\"}\n                },\n                twitter:{url:'https://api.twitter.com/1/statuses/user_timeline.json?include_entities=true&include_rts=false&screen_name=|id|&count=|num|',dataType:\"jsonp\",img:'',parser:{\n                    name: \"twitter\",\n                    resultsSelector: \"data\",\n                    heading: \"Twitter\",\n                    headingSelector: \"item.user.screen_name\",\n                    txtSelector: \"item.text\",\n                    dateSelector: \"helpers.timeAgo(helpers.fixTwitter(item.created_at))\",\n                    imgSrcSelector: \"(item.user.profile_image_url)||'/assets/spacer.gif'\",\n                    imgSrcProcessor: null,\n                    imgHrefSelector: \"(item.entities.urls[0].url)||'http://www.twitter.com/'\",\n                    imgAltSelector: \"item.user.screen_name\",\n                    link: \"#\",\n                    preProcessor: null,\n                    preCondition: \"true\"}\n                },\n                linkedin:{url:'http://www.linkedin.com/company/|id|/',img:'',dataType:\"text\",parser:{\n                    name: \"linkedin\",\n                    resultsSelector:\"$(data.responseText).find('div.feed-body:lt(|num|)')\",\n                    heading: \"LinkedIn\",\n                    headingSelector: \"$elem.find('a').text()\",\n                    txtSelector: \"($elem.find('a').text())||$elem.find('p.share-desc').html()\",                    imgSrcSelector: \"$elem.find('.feed-photo').attr('src')||$elem.find('.has-photo img').attr('src')\",                    \n                    imgSrcProcessor: null,\n                    imgHrefSelector: \"$elem.find('a').attr('href')\",\n                    imgAltSelector: \"$elem.find('a').text()\",\n                    dateSelector: \"$elem.find('span.nus-timestamp').text()\",\n                    link: \"#\",\n                    preProcessor: null,\n                    preCondition: \"true\"}\n               },\n                in1:{url:'http://in1.com/cast',img:'<img src=\"\">'},\n                tumblr:{url:'http://www.tumblr.com/',img:''},\n                digg:{url:'http://digg.com/',img:''},\n                googleplus:{url:'https://plus.google.com/105588557807820541973/posts',img:'',dataType:'json',parser:{}},\n                instagram:{url:'',dataType:'json',img:{},parser:{\n                                 \n                }},\n                pinterest:{url:'http://pinterest.com/|id|/',img:'',dataType:\"text\",parser:{\n                    name: \"pinterest\",\n                                 resultsSelector:\"$(data.responseText).find('a.PinImage:lt(8),div.pinBoard:lt(8)')\",\n                    heading: \"Pinterest\",\n                    headingSelector: \"helpers.stripHtml($elem.find('h3.serif').html())\",\n                    txtSelector: \"$elem.find('img').attr('alt')\",\n                    imgSrcSelector: \"$elem.find('img.PinImageImg').attr('src')||$elem.find('span.cover img').attr('src')\",\n                    imgSrcProcessor: null,\n                    imgHrefSelector: \"\\\"http://pinterest.com\\\"+($elem.attr('href')||$elem.find('a').attr('href'))\",\n                    imgAltSelector: \"$elem.find('img').attr('alt')\",\n                    link: \"#\",\n                    preProcessor: null,\n                    preCondition: \"true\"}\n               },\n               craigslist:{url:\"http://|areaName|.craigslist.org/|id|\",dataType:\"text\",parser:{\n                    name: \"craigslist\",\n                    resultsSelector:\"$(data.responseText).find(\\\"p.row:contains('pic'):lt(|num|)\\\")\",\n                    heading: \"Craigs\",\n                    headingSelector: \"helpers.fixCase($elem.find('a,font').text())\",\n                    txtSelector: \"\",\n                    imgSrcSelector: \"\\\"http://images.craigslist.org/\\\"+$elem.find(\\\"span.ih[id]\\\").attr('id')\",\n                    imgSrcProcessor: \"imgSrc.replace(\\\"images:\\\",\\\"\\\")\",\n                    imgHrefSelector: \"$elem.find('a').attr('href')\",\n                    imgAltSelector: \"helpers.fixCase($elem.find(\\\"a,font\\\").text())\",\n                    link: \"#\",\n                    preProcessor: null,\n                    preCondition: \"true\"}\n                                 }\n            },\n            fixCase:function(string)\n            {\n                if (string==null)\n                    return;\n                \n                return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n            },\n            shorten:function(string,length)\n            {\n                if (string==null)\n                    return;\n            \n                if (string.length > length)\n                    return string.substring(0,length) + \"..\";\n                else\n                    return string;\n            },\n            stripHtml:function(w)\n            {\n                if (w==null)\n                return;\n            \n                return w.replace(/(<([^>]+)>)|nbsp;|\\s{2,}|/ig,\"\");\n\n            },\n            fixTwitter: function(created_at){\n                var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n                var pattern = /\\s/;\n                created_at = created_at.split(pattern);\n                for (i = 0, len = created_at.length; i < len; i++){\n                    day_of_week = created_at[0];\n                    day = created_at[2];\n                    month_pos = created_at[1];\n                    month = 0 + months.indexOf(month_pos) + 1;\n                    year = created_at[5];\n                    time = created_at[3];\n                }\n                return year+'-'+month+'-'+day+'T'+time+'Z';\n            },\n            timeAgo: function (date_str){\n                var time_formats = [\n                [60, 'just now', 1],\n                [120, '1 minute ago', '1 minute from now'],\n                [3600, 'minutes', 60],\n                [7200, '1 hour ago', '1 hour from now'],\n                [86400, 'hours', 3600],\n                [172800, 'yesterday', 'tomorrow'],\n                [604800, 'days', 86400],\n                [1209600, 'last week', 'next week'],\n                [2419200, 'weeks', 604800],\n                [4838400, 'last month', 'next month'],\n                [29030400, 'months', 2419200],\n                [58060800, 'last year', 'next year'],\n                [2903040000, 'years', 29030400],\n                [5806080000, 'last century', 'next century'],\n                [58060800000, 'centuries', 2903040000]\n                ];\n                var time = ('' + date_str).replace('+0000','Z').replace(/-/g,\"/\").replace(/[TZ]/g,\" \").replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n                if(time.substr(time.length-4,1)==\".\") time =time.substr(0,time.length-4);\n                \n                var seconds = (new Date - new Date(time)) / 1000;\n                var token = 'ago', list_choice = 1;\n                if (seconds < 0) {\n                    seconds = Math.abs(seconds);\n                    token = 'from now';\n                    list_choice = 2;\n                }\n                var i = 0, format;\n                while (format = time_formats[i++])\n                    if (seconds < format[0]) {\n                        if (typeof format[2] == 'string')\n                            return format[list_choice];\n                        else\n                            return Math.floor(seconds / format[2]) + ' ' + format[1] + ' ' + token;\n                    }\n                return time;\n            },\n        }\n\n        if (methods[method]) {\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n        } else if (typeof method === 'object' || !method) {\n            return methods.init.apply(this, arguments);\n        } else {\n            $.error( 'Method \"' +  method + '\" does not exist in social plugin');\n        }\n\n    }\n\n    $.fn.socialist.defaults = {\n        networks: [{name:'linkedin',id:'iatek-llc'},{name:'pinterest',id:'carolskelly/in1-com'},{name:'twitter',id:'in1dotcom'}],\n        random: true,\n        isotope: false,\n        headingLength: 34,\n        textLength: 100,\n        maxResults:5,\n        fields:['source','heading','text','date','image','followers','likes','share']\n    }\n\n    $.fn.socialist.settings = {}\n\n})(jQuery);"]],"start1":7656,"start2":7656,"length1":4348,"length2":13068}]],"length":20724,"saved":false}
{"contributors":[],"silentsave":false,"ts":1343250296571,"patch":[[{"diffs":[[-1,"// plugin\n"],[0,";(fu"]],"start1":0,"start2":0,"length1":14,"length2":4},{"diffs":[[0,"                "],[1,"//"],[0,"console.log(item"]],"start1":719,"start2":719,"length1":32,"length2":34},{"diffs":[[0,"                "],[1,"//"],[0,"console.log(\"app"]],"start1":1557,"start2":1557,"length1":32,"length2":34},{"diffs":[[0,"log(\"app"],[1,"ly"],[0,"\"+i);\n  "]],"start1":1583,"start2":1583,"length1":16,"length2":18},{"diffs":[[0,"                "],[1,"//"],[0,"console.log(JSON"]],"start1":2754,"start2":2754,"length1":32,"length2":34},{"diffs":[[0,"k = $('<"],[-1,"div><"],[0,"a href=\""]],"start1":8008,"start2":8008,"length1":21,"length2":16},{"diffs":[[0,"itle+'\"></a>"],[1,"'),\n                    $sourceLnkDiv = $('"],[0,"<"],[-1,"/"],[0,"div"],[1,"/"],[0,">')"],[-1,","],[1,";"],[0,"\n           "]],"start1":8069,"start2":8069,"length1":33,"length2":76},{"diffs":[[0,"               \n"],[1,"                if (fields.indexOf('text')!=-1 || fields.indexOf('image')!=-1) {\n"],[0,"                "]],"start1":9621,"start2":9621,"length1":32,"length2":113},{"diffs":[[0,"r);            \n"],[1,"                }\n"],[0,"                "]],"start1":9763,"start2":9763,"length1":32,"length2":50},{"diffs":[[0,"ceLnk.appendTo($"],[1,"sourceLnkDiv);                                                                                     \n                  $sourceLnkDiv.appendTo($"],[0,"source);        "]],"start1":10224,"start2":10224,"length1":32,"length2":174},{"diffs":[[0,"Ago("],[-1,"item.created_time"],[1,"'2008-01-28T20:24:17Z'"],[0,")\",\n"]],"start1":12420,"start2":12420,"length1":25,"length2":30},{"diffs":[[0,"r: \""],[-1,"helpers.timeAgo(helpers.fixTwitter("],[0,"item"]],"start1":13271,"start2":13271,"length1":43,"length2":8},{"diffs":[[0,"eated_at"],[-1,"))"],[0,"\",\n     "]],"start1":13282,"start2":13282,"length1":18,"length2":16},{"diffs":[[0,"                "],[1,"        "],[0,"headingSelector:"]],"start1":13992,"start2":13992,"length1":32,"length2":40},{"diffs":[[0,": \"$elem.find('a"],[1,":first"],[0,"').text()\",\n    "]],"start1":14031,"start2":14031,"length1":32,"length2":38},{"diffs":[[0,"                "],[1,"        "],[0,"txtSelector: \"($"]],"start1":14069,"start2":14069,"length1":32,"length2":40},{"diffs":[[0," \"($elem.find('a"],[1,":last"],[0,"').text())||$ele"]],"start1":14105,"start2":14105,"length1":32,"length2":37},{"diffs":[[0,"com/"],[-1,"105588557807820541973/posts',img:'',dataType:'json',parser:{"],[1,"|id|',img:'',dataType:'text',parser:{\n                    name: \"google\",\n                    resultsSelector:\"$(data.responseText).find('div.zg:lt(|num|)')\",\n                    heading: \"Google+\",\n                    headingSelector: \"$elem.find('a.YF').text()\",\n                    txtSelector: \"$elem.find('div.XF').text()\",\n                    imgSrcSelector: \"$elem.find('a.Mn img').attr('src')\",                    \n                    imgSrcProcessor: null,\n                    imgHrefSelector: \"$elem.find('a.YF').attr('href')\",\n                    imgAltSelector: \"$elem.find('a.Mn img').attr('alt')\",\n                    dateSelector: \"$elem.parents('div.qf').find('a.Bf').text()\",\n                    link: \"#\",\n                    preProcessor: null,\n                    preCondition: \"true\""],[0,"}},\n"]],"start1":14931,"start2":14931,"length1":68,"length2":812},{"diffs":[[0,"pinterest\",\n"],[-1,"             "],[0,"            "]],"start1":15982,"start2":15982,"length1":37,"length2":24},{"diffs":[[0,"d:lt(8)')\",\n"],[1,""],[0,"            "]],"start1":16086,"start2":16086,"length1":24,"length2":24},{"diffs":[[0,"    "],[-1,"fixTwitter: function(created_at){\n                var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n            "],[1," timeAgo: function (time){\n                    time = time.replace('+0000','Z');\n"],[0,"    var "],[-1,"pattern = /\\s/;\n                created_at = created_at.split(pattern);\n                for (i = 0, len = created_at.length; i < len; i++){\n                    day_of_week = created_at[0];\n                    day = created_at[2];\n                    month_pos = created_at[1];\n                    month = 0 + months.indexOf(month_pos) + 1;\n                    year = created_at[5];\n                    time = created_at[3];\n                }\n                return year+'-'+month+'-'+day+'T'+time+'Z';\n            },\n            timeAgo: function (date_str){\n                var time_formats = [\n                [60, 'just now', 1],\n                [120, '1 minute ago', '1 minute from now'],\n                [3600, 'minutes', 60],\n                [7200, '1 hour ago', '1 hour from now'],\n                [86400, 'hours', 3600],\n                [172800, 'yesterday', 'tomorrow'],\n                [604800, 'days', 86400],\n                [1209600, 'last week', 'next week'],\n                [2419200, 'weeks', 604800],\n                [4838400, 'last month', 'next month'],\n                [29030400, 'months', 2419200],\n                [58060800, 'last year', 'next year'],\n                [2903040000, 'years', 29030400],\n                [5806080000, 'last century', 'next century'],\n                [58060800000, 'centuries', 2903040000]\n                ];\n                var time = ('' + date_str).replace('+0000','Z').replace(/-/g,\"/\").replace(/[TZ]/g,\" \").replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n                if(time.substr(time.length-4,1)==\".\") time =time.substr(0,time.length-4);\n                \n                var seconds = (new Date - new Date(time)) / 1000;\n                var token = 'ago', list_choice = 1;\n                if (seconds < 0) {\n                    seconds = Math.abs(seconds);\n                    token = 'from now';\n                    list_choice = 2;\n                }\n                var i = 0, format;\n                while (format = time_formats[i++])\n                    if (seconds < format[0]) {\n                        if (typeof format[2] == 'string')\n                            return format[list_choice];\n                        else\n                            return Math.floor(seconds / format[2]) + ' ' + format[1] + ' ' + token;\n                    }\n                return time;\n            },"],[1,"date = new Date((time || \"\").replace(/-/g,\"/\").replace(/[TZ]/g,\" \")),\n        diff = (((new Date()).getTime() - date.getTime()) / 1000),\n        day_diff = Math.floor(diff / 86400);\n            \n    if ( isNaN(day_diff) || day_diff < 0 || day_diff >= 31 )\n        return;\n            \n    return day_diff == 0 && (\n            diff < 60 && \"just now\" ||\n            diff < 120 && \"1 minute ago\" ||\n            diff < 3600 && Math.floor( diff / 60 ) + \" minutes ago\" ||\n            diff < 7200 && \"1 hour ago\" ||\n            diff < 86400 && Math.floor( diff / 3600 ) + \" hours ago\") ||\n        day_diff == 1 && \"Yesterday\" ||\n        day_diff < 7 && day_diff + \" days ago\" ||\n        day_diff < 31 && Math.ceil( day_diff / 7 ) + \" weeks ago\";\n},\n\n            timeSince: function (date) {\n\n    var seconds = Math.floor((new Date() - date) / 1000);\n\n    var interval = Math.floor(seconds / 31536000);\n\n    if (interval > 1) {\n        return interval + \" years\";\n    }\n    interval = Math.floor(seconds / 2592000);\n    if (interval > 1) {\n        return interval + \" months\";\n    }\n    interval = Math.floor(seconds / 86400);\n    if (interval > 1) {\n        return interval + \" days\";\n    }\n    interval = Math.floor(seconds / 3600);\n    if (interval > 1) {\n        return interval + \" hours\";\n    }\n    interval = Math.floor(seconds / 60);\n    if (interval > 1) {\n        return interval + \" minutes\";\n    }\n    return Math.floor(seconds) + \" seconds\";\n}"],[0,"\n   "]],"start1":18427,"start2":18427,"length1":2518,"length2":1548},{"diffs":[[0,"sotope: "],[-1,"fals"],[1,"tru"],[0,"e,\n     "]],"start1":20530,"start2":20530,"length1":20,"length2":19},{"diffs":[[0,"Length: "],[-1,"1"],[1,"2"],[0,"00,\n    "]],"start1":20583,"start2":20583,"length1":17,"length2":17},{"diffs":[[0,"Results:"],[-1,"5"],[1,"7"],[0,",\n      "]],"start1":20607,"start2":20607,"length1":17,"length2":17}]],"length":20756,"saved":false}
{"contributors":[],"silentsave":false,"ts":1345114291931,"patch":[[{"diffs":[[-1,";(function ( $, window, document, undefined ) {\n\n    $.fn.socialist = function(method) {\n\n        var methods = {\n\n            init : function(options) {\n                this.socialist.settings = $.extend({}, this.socialist.defaults, options);\n                var networks = this.socialist.settings.networks,\n                    settings = this.socialist.settings;\n                    queue = [],\n                    processList = [];        \n               \n                return this.each(function() {\n                    var $element = $(this),\n                        element = this;\n                    \n                    networks.forEach(function(item) {\n                        //get network settings\n                        //console.log(item)\n                        var nw = helpers.networkDefs[item.name];\n                        nw.cb=function(newElement){queue.push(newElement)};\n                        reqUrl = nw.url;\n                        reqUrl = reqUrl.replace(\"|id|\",item.id);\n                        reqUrl = reqUrl.replace(\"|areaName|\",item.areaName);\n                        reqUrl = reqUrl.replace(\"|num|\",settings.maxResults);\n                                                           processList.push(helpers.doRequest(reqUrl,nw.dataType,nw.cb,nw.parser,settings));\n\n                        $.when.apply($, processList).then(function(){\n                                \n                            for (var i = 0; i < queue.length; i++) {\n                               queue[i].children().appendTo($element);\n                               //console.log(\"apply\"+i);\n                            }\n                          \n                            //queue = [];\n                            sortParam = '';\n                            if (settings.random){sortParam='random'};\n                            \n                            //done - load isotope?\n                            if (settings.isotope) {\n                                $element.imagesLoaded(function(){                                  //\n                                    console.log(\"loading iso\");\n                                $element.isotope ({\n                                    transformsEnabled: false,\n                                    sortBy : sortParam\n                                })\n                            });\n                                                       }\n                        },function(){\n                            console.log('some requests failed.')\n                        });\n                    });\n                });\n            }\n        }\n\n        var helpers = {\n            parseResults: function(apiParser,data,settings) {\n                \n                var container=$('<div></div>');\n                //console.log(JSON.stringify(data));\n                                                   \n                apiParser.resultsSelector = apiParser.resultsSelector.replace('|num|',settings.maxResults);             \n                    \n                $.each(eval(apiParser.resultsSelector), function(i,item) {\n\n                    var $elem = $(item);\n                    //console.log(apiParser.name\n                    try{\n                    \n                        if (eval(apiParser.preCondition)) {\n                            var $div = $('<div class=\"socialist\"></div>');\n                            \n                            $div.addClass('socialist-'+apiParser.name);\n                                            \n                            if (apiParser.headingSelector!=null){\n                                heading = helpers.shorten(helpers.stripHtml(eval(apiParser.headingSelector)),settings.headingLength);\n                            }\n                            else {\n                                heading = apiParser.heading;\n                            }\n                            \n                            txt=eval(apiParser.txtSelector);\n                            if (txt!=null) {\n                                txt = helpers.shorten(txt,settings.textLength);\n                            }\n                            else {\n                                txt = \"\";\n                            }\n\n                            // link href\n                            linkHref=\"#\";\n                            \n                            // link title - tooltip\n                            if (apiParser.linkTip==null){\n                                linkTip=\"in1\";\n                            }\n                            else {\n                                linkTip=eval(apiParser.linkTipSelector);\n                            }\n                            \n                            // image src\n                            if (apiParser.imgSrcSelector==null){\n                                imgSrc=apiParser.imgSrc;\n                            }\n                            else {\n                                imgSrc=eval(apiParser.imgSrcSelector);\n                                if (imgSrc!=null && apiParser.imgSrcProcessor!=null){\n                                    imgSrc=eval(apiParser.imgSrcProcessor);\n                                }\n                                else if (imgSrc==null) {\n                                    imgSrc=\"\";\n                                }\n                            }\n                            \n                            // image link\n                            if (apiParser.imgHrefSelector==null){\n                                imgHref=apiParser.imgHref;\n                            }\n                            else {\n                                imgHref=eval(apiParser.imgHrefSelector);\n                            }\n    \n                            // image alt\n                            if (apiParser.imgAltSelector!=null){\n                                imgAlt=eval(apiParser.imgAltSelector);\n                            }\n                           \n                            date=eval(apiParser.dateSelector);\n                            if (typeof date==\"undefined\" || date===null) {\n                                date = \"\";\n                            }\n                            \n                            var itemObj = {\n                                api:apiParser.name,\n                                heading:heading,\n                                txt:txt,\n                                img:{\"src\":imgSrc,\"href\":imgHref,\"alt\":imgAlt},\n                                link:{\"href\":linkHref,\"title\":imgAlt},\n                                date:date\n                            };\n                            \n                            $div = helpers.buildItem(itemObj,$div,settings.fields);\n                            $div.appendTo(container);\n                        }\n                             \n                    }\n                    catch (e) {\n                       console.log(\"parse error:\"+apiParser.name+\":\"+e)\n                    }\n                }); // end each\n\n               return container;\n            },\n            doRequest: function(url,dataType,cb,parser,settings){\n                console.log(\"ajax: \" + dataType + \":\" + url);\n        \n                return $.ajax({\n                    url: url, //encodeURIComponent(url);\n                    type: \"GET\",\n                    dataType: dataType,\n                    success: function(data) {\n                        if (parser)\n                            cb($(helpers.parseResults(parser,data,settings)));\n                        else\n                            cb(data);\n                    },\n                    error: function(status) {\n                        console.log(\"request error:\"+url);   \n                    }\n                });\n                \n                //return;\n            },\n            buildItem: function(itemObj,container,fields) {\n  \n                var $headDiv = $('<div class=\"head\"/>'),\n                    $source = $('<div class=\"source\"></div>'),\n                    $sourceLnk = $('<a href=\"'+itemObj.img.href+'\" title=\"'+itemObj.link.title+'\"></a>'),\n                    $sourceLnkDiv = $('<div/>');\n                    $apiSpan = $('<span class=\"api\">'+itemObj.api+'</span>'),\n                    \n                    $contentDiv = $('<div class=\"content\"/>'),\n                    $imgLnk = $('<a href=\"'+itemObj.img.href+'\" title=\"'+itemObj.link.title+'\"></a>'),\n                    $img = $('<image src=\"'+itemObj.img.src+'\" alt=\"'+itemObj.img.alt+'\">'),\n                    $shareDiv = $('<div class=\"share\"><a href=\"#\" title='+itemObj.api+'>fb</a>|<a href=\"#\" class=\"x\">tw</a></div>'),\n                    $dateSpan = $('<span class=\"date\"/>'),\n                    $footDiv = $('<div class=\"foot\"/>');\n                \n               /*\n                  if (fields.indexOf('heading')!=-1){                                                                            $headLnk.text(itemObj.heading);\n                      $headLnk.appendTo($headDiv);                                                    \n                      $headDiv.appendTo(container);\n                }\n                */\n                \n                if (fields.indexOf('image')!=-1 && itemObj.img.src){                                   \n                    $img.appendTo($imgLnk);\n                    $imgLnk.appendTo($contentDiv);\n                    //$imgDiv.addClass('socialist-'+itemObj.api);\n               }\n\n                if (fields.indexOf('text')!=-1){                                                                      $('<div>'+itemObj.txt+'</div>').appendTo($contentDiv);\n                }\n                \n                if (fields.indexOf('text')!=-1 || fields.indexOf('image')!=-1) {\n                $contentDiv.appendTo(container);            \n                }\n                                                   \n                if (fields.indexOf('share')!=-1){\n                    $shareDiv.appendTo(container);\n                }\n                \n                \n                $source.appendTo($footDiv);\n                 if (fields.indexOf('source')!=-1){                                                                      $sourceLnk.text(itemObj.heading);\n                  $sourceLnk.appendTo($sourceLnkDiv);                                                                                     \n                  $sourceLnkDiv.appendTo($source);                                                                                        \n                }\n                \n                 if (fields.indexOf('date')!=-1){\n                    $dateSpan.text(itemObj.date);                            \n                   $dateSpan.appendTo($source);\n                }\n                                                   \n                $apiSpan.appendTo($source);\n                $footDiv.appendTo(container);\n                \n                return container;\n            },\n            networkDefs: {\n                rss:{url:\"http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=7&callback=?&q=|id|\",dataType:\"json\",parser:{\n                    name: \"rss\",\n                    resultsSelector: \"data.responseData.feed.entries\",\n                    heading: \"RSS\",\n                    headingSelector: \"data.responseData.feed.title\",\n                    txtSelector: \"item.title\",\n                    dateSelector: \"item.publishedDate.substring(0,17)\",\n                    imgSrc: null,\n                    imgSrcSelector: \"$(item.content).find(\\\"img:lt(1)\\\").attr('src')\",\n                    imgSrcProcessor: null,\n                    imgHref: \"\",\n                    imgHrefSelector: \"$(item.content).find(\\\"img:lt(1)\\\").parent().attr('href')\",\n                    imgAltSelector: \"item.contentSnippet\",\n                    link: \"\",\n                    linkSelector: null,\n                    linkTipSelector: \"item.contentSnippet\",\n                    preProcessor: null,\n                    preCondition: \"$(item.content).find(\\\"img[src]:contains('http')\\\")\"\n                    }\n                },\n                facebook:{url:'http://graph.facebook.com/|id|/photos',img:'',dataType:'json',parser:{name: \"facebook\",\n                    resultsSelector: \"data.data\",\n                    heading: \"Facebook\",\n                    headingSelector: \"item.from.name\",\n                    txtSelector: \"item.from.name\",\n                    dateSelector: \"helpers.timeAgo('2008-01-28T20:24:17Z')\",\n                    imgSrcSelector: \"(item.images[2].source)||'/spacer.gif'\",\n                    imgSrcProcessor: null,\n                    imgHrefSelector: \"item.link\",\n                    imgAltSelector: \"item.from.name.substring(0,12)\",\n                    link: \"#\",\n                    preProcessor: null,\n                    preCondition: \"true\"}\n                },\n                twitter:{url:'https://api.twitter.com/1/statuses/user_timeline.json?include_entities=true&include_rts=false&screen_name=|id|&count=|num|',dataType:\"jsonp\",img:'',parser:{\n                    name: \"twitter\",\n                    resultsSelector: \"data\",\n                    heading: \"Twitter\",\n                    headingSelector: \"item.user.screen_name\",\n                    txtSelector: \"item.text\",\n                    dateSelector: \"item.created_at\",\n                    imgSrcSelector: \"(item.user.profile_image_url)||'/assets/spacer.gif'\",\n                    imgSrcProcessor: null,\n                    imgHrefSelector: \"(item.entities.urls[0].url)||'http://www.twitter.com/'\",\n                    imgAltSelector: \"item.user.screen_name\",\n                    link: \"#\",\n                    preProcessor: null,\n                    preCondition: \"true\"}\n                },\n                linkedin:{url:'http://www.linkedin.com/company/|id|/',img:'',dataType:\"text\",parser:{\n                    name: \"linkedin\",\n                    resultsSelector:\"$(data.responseText).find('div.feed-body:lt(|num|)')\",\n                    heading: \"LinkedIn\",\n                            headingSelector: \"$elem.find('a:first').text()\",\n                            txtSelector: \"($elem.find('a:last').text())||$elem.find('p.share-desc').html()\",                    imgSrcSelector: \"$elem.find('.feed-photo').attr('src')||$elem.find('.has-photo img').attr('src')\",                    \n                    imgSrcProcessor: null,\n                    imgHrefSelector: \"$elem.find('a').attr('href')\",\n                    imgAltSelector: \"$elem.find('a').text()\",\n                    dateSelector: \"$elem.find('span.nus-timestamp').text()\",\n                    link: \"#\",\n                    preProcessor: null,\n                    preCondition: \"true\"}\n               },\n                in1:{url:'http://in1.com/cast',img:'<img src=\"\">'},\n                tumblr:{url:'http://www.tumblr.com/',img:''},\n                digg:{url:'http://digg.com/',img:''},\n                googleplus:{url:'https://plus.google.com/|id|',img:'',dataType:'text',parser:{\n                    name: \"google\",\n                    resultsSelector:\"$(data.responseText).find('div.zg:lt(|num|)')\",\n                    heading: \"Google+\",\n                    headingSelector: \"$elem.find('a.YF').text()\",\n                    txtSelector: \"$elem.find('div.XF').text()\",\n                    imgSrcSelector: \"$elem.find('a.Mn img').attr('src')\",                    \n                    imgSrcProcessor: null,\n                    imgHrefSelector: \"$elem.find('a.YF').attr('href')\",\n                    imgAltSelector: \"$elem.find('a.Mn img').attr('alt')\",\n                    dateSelector: \"$elem.parents('div.qf').find('a.Bf').text()\",\n                    link: \"#\",\n                    preProcessor: null,\n                    preCondition: \"true\"}},\n                instagram:{url:'',dataType:'json',img:{},parser:{\n                                 \n                }},\n                pinterest:{url:'http://pinterest.com/|id|/',img:'',dataType:\"text\",parser:{\n                    name: \"pinterest\",\n                    resultsSelector:\"$(data.responseText).find('a.PinImage:lt(8),div.pinBoard:lt(8)')\",\n                    heading: \"Pinterest\",\n                    headingSelector: \"helpers.stripHtml($elem.find('h3.serif').html())\",\n                    txtSelector: \"$elem.find('img').attr('alt')\",\n                    imgSrcSelector: \"$elem.find('img.PinImageImg').attr('src')||$elem.find('span.cover img').attr('src')\",\n                    imgSrcProcessor: null,\n                    imgHrefSelector: \"\\\"http://pinterest.com\\\"+($elem.attr('href')||$elem.find('a').attr('href'))\",\n                    imgAltSelector: \"$elem.find('img').attr('alt')\",\n                    link: \"#\",\n                    preProcessor: null,\n                    preCondition: \"true\"}\n               },\n               craigslist:{url:\"http://|areaName|.craigslist.org/|id|\",dataType:\"text\",parser:{\n                    name: \"craigslist\",\n                    resultsSelector:\"$(data.responseText).find(\\\"p.row:contains('pic'):lt(|num|)\\\")\",\n                    heading: \"Craigs\",\n                    headingSelector: \"helpers.fixCase($elem.find('a,font').text())\",\n                    txtSelector: \"\",\n                    imgSrcSelector: \"\\\"http://images.craigslist.org/\\\"+$elem.find(\\\"span.ih[id]\\\").attr('id')\",\n                    imgSrcProcessor: \"imgSrc.replace(\\\"images:\\\",\\\"\\\")\",\n                    imgHrefSelector: \"$elem.find('a').attr('href')\",\n                    imgAltSelector: \"helpers.fixCase($elem.find(\\\"a,font\\\").text())\",\n                    link: \"#\",\n                    preProcessor: null,\n                    preCondition: \"true\"}\n                                 }\n            },\n            fixCase:function(string)\n            {\n                if (string==null)\n                    return;\n                \n                return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n            },\n            shorten:function(string,length)\n            {\n                if (string==null)\n                    return;\n            \n                if (string.length > length)\n                    return string.substring(0,length) + \"..\";\n                else\n                    return string;\n            },\n            stripHtml:function(w)\n            {\n                if (w==null)\n                return;\n            \n                return w.replace(/(<([^>]+)>)|nbsp;|\\s{2,}|/ig,\"\");\n\n            },\n             timeAgo: function (time){\n                    time = time.replace('+0000','Z');\n    var date = new Date((time || \"\").replace(/-/g,\"/\").replace(/[TZ]/g,\" \")),\n        diff = (((new Date()).getTime() - date.getTime()) / 1000),\n        day_diff = Math.floor(diff / 86400);\n            \n    if ( isNaN(day_diff) || day_diff < 0 || day_diff >= 31 )\n        return;\n            \n    return day_diff == 0 && (\n            diff < 60 && \"just now\" ||\n            diff < 120 && \"1 minute ago\" ||\n            diff < 3600 && Math.floor( diff / 60 ) + \" minutes ago\" ||\n            diff < 7200 && \"1 hour ago\" ||\n            diff < 86400 && Math.floor( diff / 3600 ) + \" hours ago\") ||\n        day_diff == 1 && \"Yesterday\" ||\n        day_diff < 7 && day_diff + \" days ago\" ||\n        day_diff < 31 && Math.ceil( day_diff / 7 ) + \" weeks ago\";\n},\n\n            timeSince: function (date) {\n\n    var seconds = Math.floor((new Date() - date) / 1000);\n\n    var interval = Math.floor(seconds / 31536000);\n\n    if (interval > 1) {\n        return interval + \" years\";\n    }\n    interval = Math.floor(seconds / 2592000);\n    if (interval > 1) {\n        return interval + \" months\";\n    }\n    interval = Math.floor(seconds / 86400);\n    if (interval > 1) {\n        return interval + \" days\";\n    }\n    interval = Math.floor(seconds / 3600);\n    if (interval > 1) {\n        return interval + \" hours\";\n    }\n    interval = Math.floor(seconds / 60);\n    if (interval > 1) {\n        return interval + \" minutes\";\n    }\n    return Math.floor(seconds) + \" seconds\";\n}\n        }\n\n        if (methods[method]) {\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n        } else if (typeof method === 'object' || !method) {\n            return methods.init.apply(this, arguments);\n        } else {\n            $.error( 'Method \"' +  method + '\" does not exist in social plugin');\n        }\n\n    }\n\n    $.fn.socialist.defaults = {\n        networks: [{name:'linkedin',id:'iatek-llc'},{name:'pinterest',id:'carolskelly/in1-com'},{name:'twitter',id:'in1dotcom'}],\n        random: true,\n        isotope: true,\n        headingLength: 34,\n        textLength: 200,\n        maxResults:7,\n        fields:['source','heading','text','date','image','followers','likes','share']\n    }\n\n    $.fn.socialist.settings = {}\n\n})(jQuery);"],[1,"/**\r\n * jQuery.socialist - social media plugin\r\n * ---\r\n * @author Carol Skelly (http://iatek.com)\r\n * @version 1.0\r\n * @license MIT license (http://opensource.org/licenses/mit-license.php)\r\n * ---\r\n */\r\n\r\n;(function ( $, window, document, undefined ) {\r\n\r\n    $.fn.socialist = function(method) {\r\n\r\n        var methods = {\r\n\r\n            init : function(options) {\r\n                this.socialist.settings = $.extend({}, this.socialist.defaults, options);\r\n                var networks = this.socialist.settings.networks,\r\n                    settings = this.socialist.settings,\r\n                    queue = [],\r\n                    processList = [];\r\n               \r\n                // each instance of this plugin\r\n                return this.each(function() {\r\n                    var $element = $(this),\r\n                        visible = $element.is(\":visible\"),\r\n                        element = this;\r\n                    \r\n                    // display loader\r\n                    $element.addClass('socialist-loader');\r\n                    \r\n                    if (settings.feed) {\r\n                        \r\n                        processList.push(helpers.doRequest(feed,\"json\",function(newElement){queue.push(newElement)},null,settings))\r\n                    }\r\n                    else {\r\n                        // loop each network\r\n                        networks.forEach(function(item) {\r\n                            // get network settings\r\n                            var nw = helpers.networkDefs[item.name];\r\n                            nw.cb=function(newElement){queue.push(newElement)};\r\n                            var reqUrl = nw.url;\r\n                            // replace params in request url\r\n                            reqUrl = reqUrl.replace(\"|id|\",item.id);\r\n                            reqUrl = reqUrl.replace(\"|areaName|\",item.areaName);\r\n                            reqUrl = reqUrl.replace(\"|apiKey|\",item.apiKey);\r\n                            reqUrl = reqUrl.replace(\"|num|\",settings.maxResults);\r\n                            // add to array for processing\r\n                            processList.push(helpers.doRequest(reqUrl,nw.dataType,nw.cb,nw.parser,settings));\r\n                        });\r\n                    }\r\n                    \r\n                    // process the array of requests, then add resulting elements to container element\r\n                    $.when.apply($, processList).then(function(){\r\n       \r\n                        for (var i = 0; i < queue.length; i++) {\r\n                           queue[i].children().appendTo($element);\r\n                        }\r\n                        \r\n                        // load isotope?\r\n                        if (settings.isotope) {\r\n                            $element.imagesLoaded(function(){\r\n                                //console.log(\"loading iso\");\r\n                                $element.isotope ({\r\n                                     animationEngine: 'jquery'\r\n                                });\r\n                                \r\n                                $element.removeClass('socialist-loader');\r\n                                \r\n                                if (settings.random){\r\n                                    $element.isotope( 'shuffle', function(){} );\r\n                                }\r\n                                \r\n                            });\r\n                        }\r\n                        else {\r\n                            $element.removeClass('socialist-loader');\r\n                        }\r\n                        \r\n                    },function(){\r\n                        console.log('some requests failed.');\r\n                    });\r\n                    \r\n                }); // end plugin instance\r\n            }\r\n        }\r\n\r\n        var helpers = {\r\n            parseResults: function(apiParser,data,settings) {\r\n                \r\n                var container=$('<div></div>');\r\n                //console.log(JSON.stringify(data));\r\n                                                   \r\n                apiParser.resultsSelector = apiParser.resultsSelector.replace('|num|',settings.maxResults);          \r\n                    \r\n                $.each(eval(apiParser.resultsSelector), function(i,item) {\r\n                    \r\n                    var $elem = $(item),\r\n                        heading,\r\n                        txt,\r\n                        linkHref,\r\n                        imgSrc,\r\n                        imgHref,\r\n                        imgAlt,\r\n                        date;\r\n                    \r\n                    try{\r\n                        \r\n                        // eval is evil, but we use it here as a simple way to evaluate strings in our parser\r\n                        if (eval(apiParser.preCondition)) {\r\n                            var $div = $('<div class=\"socialist\"></div>');\r\n                            $div.addClass('socialist-'+apiParser.name);\r\n                            \r\n                            if (settings.fixed) {\r\n                                 $div.addClass('socialist-fixed');   \r\n                            }\r\n                            \r\n                            if (settings.theme) {\r\n                                 $div.addClass('socialist-'+settings.theme);   \r\n                            }\r\n                            \r\n                            if (settings.size) {\r\n                                 $div.addClass('socialist-'+settings.size);   \r\n                            }\r\n                            \r\n                            if (!settings.isotope) {\r\n                                $div.addClass('socialist-simple'); \r\n                            }\r\n                            \r\n                            if (settings.width) {\r\n                                $div.css('width',settings.width); \r\n                            }\r\n                            \r\n                            if (settings.margin) {\r\n                                $div.css('margin',settings.margin); \r\n                            }\r\n                            \r\n                            if (settings.border) {\r\n                                $div.css('border',settings.border); \r\n                            }\r\n                            \r\n                            if (settings.padding) {\r\n                                $div.css('padding',settings.padding); \r\n                            }\r\n                            \r\n                            //console.log(item);\r\n                                            \r\n                            if (apiParser.headingSelector!==null){\r\n                                heading = helpers.shorten(helpers.stripHtml(eval(apiParser.headingSelector)),settings.headingLength);\r\n                            }\r\n                            else {\r\n                                heading = apiParser.heading;\r\n                            }\r\n                            \r\n                            txt=eval(apiParser.txtSelector);\r\n                            if (txt!==null) {\r\n                                txt = helpers.shorten(txt,settings.textLength);\r\n                            }\r\n                            else {\r\n                                txt = \"\";\r\n                            }\r\n\r\n                            // link href\r\n                            linkHref=\"#\";\r\n                            \r\n                            // image src\r\n                            if (apiParser.imgSrcSelector===null){\r\n                                imgSrc=apiParser.imgSrc;\r\n                            }\r\n                            else {\r\n                                imgSrc=eval(apiParser.imgSrcSelector);\r\n                                if (imgSrc!==null && apiParser.imgSrcProcessor!==null){\r\n                                    imgSrc=eval(apiParser.imgSrcProcessor);\r\n                                }\r\n                                else if (imgSrc===null) {\r\n                                    imgSrc=\"\";\r\n                                }\r\n                            }\r\n\r\n                            \r\n                            // image link\r\n                            if (apiParser.imgHrefSelector===null){\r\n                                imgHref=apiParser.imgHref;\r\n                            }\r\n                            else {\r\n                                imgHref=eval(apiParser.imgHrefSelector);\r\n                            }\r\n    \r\n                            // image alt\r\n                            if (apiParser.imgAltSelector!==null){\r\n                                imgAlt=eval(apiParser.imgAltSelector);\r\n                            }\r\n                           \r\n                            date=eval(apiParser.dateSelector);\r\n                            if (typeof date===\"undefined\" || date===null) {\r\n                                date = \"\";\r\n                            }\r\n                            \r\n                            var itemObj = {\r\n                                api:apiParser.name,\r\n                                heading:heading,\r\n                                txt:txt,\r\n                                img:{\"src\":imgSrc,\"href\":imgHref,\"alt\":imgAlt},\r\n                                link:{\"href\":linkHref,\"title\":imgAlt},\r\n                                date:date\r\n                            };\r\n                            \r\n                            $div = helpers.buildItem(itemObj,$div,settings.fields);\r\n                            $div.appendTo(container);\r\n                        }\r\n                             \r\n                    }\r\n                    catch (e) {\r\n                       console.log(\"parse error:\"+apiParser.name+\":\"+e)\r\n                    }\r\n                }); // end each\r\n                return container;\r\n            },\r\n            doRequest: function(url,dataType,cb,parser,settings){\r\n                console.log(\"ajax: \" + dataType + \":\" + url);\r\n                return $.ajax({\r\n                    url: url, //encodeURIComponent(url)?;\r\n                    type: \"GET\",\r\n                    dataType: dataType,\r\n                    success: function(data) {\r\n                        if (parser)\r\n                            cb($(helpers.parseResults(parser,data,settings)));\r\n                        else\r\n                            cb(data);\r\n                    },\r\n                    error: function(status) {\r\n                        console.log(\"request error:\"+url);   \r\n                    }\r\n                });\r\n                \r\n                //return;\r\n            },\r\n            buildItem: function(itemObj,container,fields) {\r\n  \r\n                var $headDiv = $('<div class=\"head\"/>'),\r\n                    $source = $('<div class=\"source\"></div>'),\r\n                    $sourceLnk = $('<a href=\"'+itemObj.img.href+'\" title=\"'+itemObj.link.title+'\"></a>'),\r\n                    $sourceLnkDiv = $('<div/>'),\r\n                    $apiSpan = $('<div class=\"api\"></div>'),\r\n                    $apiSpanLnk = $('<a href=\"'+itemObj.img.href+'\"></a>'),\r\n                    $contentDiv = $('<div class=\"content\"/>'),\r\n                    $contentDivInner = $('<div>'+itemObj.txt+' </div>'),\r\n                    $imgLnk = $('<a href=\"'+itemObj.img.href+'\" title=\"'+itemObj.link.title+'\"></a>'),\r\n                    $img = $('<image src=\"'+itemObj.img.src+'\" alt=\"'+helpers.stripHtml(itemObj.img.alt)+'\">'),\r\n                    $shareDiv = $('<div class=\"share\"><a href=\"#\" title='+itemObj.api+'>fb</a>|<a href=\"#\" class=\"x\">tw</a></div>'),\r\n                    $dateSpan = $('<div class=\"date\"/>'),\r\n                    $footDiv = $('<div class=\"foot\"/>');\r\n                    \r\n                    //console.log(itemObj.img.src);\r\n\r\n                    if (fields.indexOf('image')!=-1 && itemObj.img.src){                                   \r\n                        $img.appendTo($imgLnk);\r\n                        $imgLnk.appendTo($contentDiv);\r\n                    }\r\n                    \r\n                    if (fields.indexOf('text')!=-1 || typeof itemObj.img.src===\"undefined\" ){\r\n                         $contentDivInner.appendTo($contentDiv);\r\n                    }\r\n                    \r\n                    if (fields.indexOf('text')!=-1 || fields.indexOf('image')!=-1) {\r\n                        $contentDiv.appendTo(container);            \r\n                    }\r\n                \r\n                /* TODO: implement sharing links\r\n                    if (fields.indexOf('share')!=-1){\r\n                        $shareDiv.appendTo(container);\r\n                    }\r\n                    */\r\n                    \r\n                    $source.appendTo($footDiv);\r\n                    $sourceLnk.text(itemObj.heading);\r\n                    if (fields.indexOf('source')!=-1){\r\n                        $sourceLnk.appendTo($sourceLnkDiv);\r\n                        $sourceLnkDiv.appendTo($source);\r\n                        $apiSpanLnk.appendTo($apiSpan);\r\n                        $apiSpan.appendTo($footDiv);\r\n                        $source.appendTo($footDiv);                                                                                        \r\n                    }\r\n                    else {\r\n                        $sourceLnk.appendTo($contentDivInner);\r\n                    }\r\n                    \r\n                    if (fields.indexOf('date')!=-1){\r\n                        $dateSpan.text(itemObj.date);                            \r\n                        $dateSpan.appendTo($sourceLnkDiv);\r\n                    }\r\n                    \r\n                    if (fields.indexOf('source')!=-1 || fields.indexOf('date')!=-1) {\r\n                        $footDiv.appendTo(container);\r\n                    }\r\n                    \r\n                    return container;\r\n            },\r\n            networkDefs: {\r\n                rss:{url:\"http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=|num|&callback=?&q=|id|\",dataType:\"json\",parser:{\r\n                    name: \"rss\",\r\n                    resultsSelector: \"data.responseData.feed.entries\",\r\n                    heading: \"RSS\",\r\n                    headingSelector: \"data.responseData.feed.title\",\r\n                    txtSelector: \"item.title\",\r\n                    dateSelector: \"item.publishedDate.substring(0,17)\",\r\n                    imgSrc: null,\r\n                    imgSrcSelector: \"$(item.content).find(\\\"img:lt(1)\\\").attr('src')\",\r\n                    imgSrcProcessor: null,\r\n                    imgHref: \"\",\r\n                    imgHrefSelector: \"$(item.content).find(\\\"img:lt(1)\\\").parent().attr('href')||$(item.content).find(\\\"a:lt(1)\\\").attr('href')\",\r\n                    imgAltSelector: \"item.contentSnippet\",\r\n                    link: \"\",\r\n                    linkSelector: null,\r\n                    linkTipSelector: \"item.contentSnippet\",\r\n                    preProcessor: null,\r\n                    preCondition: \"$(item.content).find(\\\"img[src]:contains('http')\\\")\"\r\n                    }\r\n                },\r\n                facebook:{url:'http://graph.facebook.com/|id|/photos?limit=|num|',img:'',dataType:'json',parser:{\r\n                    name: \"facebook\",\r\n                    resultsSelector: \"data.data\",\r\n                    heading: \"Facebook\",\r\n                    headingSelector: \"item.from.name\",\r\n                    txtSelector: \"item.from.name\",\r\n                    dateSelector: \"helpers.timeAgo(item.created_time)\",\r\n                    imgSrcSelector: \"(item.images[2].source)||'/spacer.gif'\",\r\n                    imgSrcProcessor: null,\r\n                    imgHrefSelector: \"item.link\",\r\n                    imgAltSelector: \"item.from.name.substring(0,12)\",\r\n                    link: \"#\",\r\n                    preProcessor: null,\r\n                    preCondition: \"true\"}\r\n                },\r\n                youtube:{url:'https://gdata.youtube.com/feeds/api/users/|id|/uploads?alt=json&max-results=|num|',dataType:\"json\",img:'',parser:{\r\n                    name: \"youtube\",\r\n                    resultsSelector: \"data.feed.entry\",\r\n                    heading: \"YouTube\",\r\n                    headingSelector: \"item.title.$t\",\r\n                    txtSelector: \"item.content.$t\",\r\n                    dateSelector: \"helpers.timeAgo(item.updated.$t)\",\r\n                    imgSrcSelector: \"item.media$group.media$thumbnail[0].url\",\r\n                    imgSrcProcessor: null,\r\n                    imgHrefSelector: \"item.link[0].href\",\r\n                    imgAltSelector: \"item.title.$t\",\r\n                    preProcessor: null,\r\n                    preCondition: \"true\"}\r\n                },\r\n                twitter:{url:'https://api.twitter.com/1/statuses/user_timeline.json?include_entities=true&include_rts=false&screen_name=|id|&count=|num|',dataType:\"jsonp\",img:'',parser:{\r\n                    name: \"twitter\",\r\n                    resultsSelector: \"data\",\r\n                    heading: \"Twitter\",\r\n                    headingSelector: \"item.user.screen_name\",\r\n                    txtSelector: \"item.text\",\r\n                    dateSelector: \"helpers.timeAgo(helpers.fixTwitterDate(item.created_at))\",\r\n                    imgSrcSelector: \"(item.user.profile_image_url)||'/assets/spacer.gif'\",\r\n                    imgSrcProcessor: null,\r\n                    imgHrefSelector: \"(item.entities.urls[0].url)||'http://www.twitter.com/'\",\r\n                    imgAltSelector: \"item.user.screen_name\",\r\n                    link: \"#\",\r\n                    preProcessor: null,\r\n                    preCondition: \"true\"}\r\n                },\r\n                linkedin:{url:'http://www.linkedin.com/company/|id|/',img:'',dataType:\"text\",parser:{\r\n                    name: \"linkedin\",\r\n                    resultsSelector:\"$(data.responseText).find('div.feed-body:lt(|num|)')\",\r\n                    heading: \"LinkedIn\",\r\n                    headingSelector: \"$elem.find('a:first').text()\",\r\n                    txtSelector: \"($elem.find('a:last').text())||$elem.find('p.share-desc').html()\",\r\n                    imgSrcSelector: \"$elem.find('.feed-photo').attr('src')||$elem.find('.has-photo img').attr('src')\",                    \r\n                    imgSrcProcessor: null,\r\n                    imgHrefSelector: \"$elem.find('a').attr('href')\",\r\n                    imgAltSelector: \"$elem.find('a').text()\",\r\n                    dateSelector: \"$elem.find('span.nus-timestamp').text()\",\r\n                    link: \"#\",\r\n                    preProcessor: null,\r\n                    preCondition: \"true\"}\r\n                },\r\n                tumblr:{url:'http://iatek.tumblr.com/api/read/json?callback=helpers.cb&num=|num|',dataType:\"jsonp\",parser:{\r\n                    name: \"tumblr\",\r\n                    resultsSelector: \"data.posts\",\r\n                    heading: \"tumblr\",\r\n                    headingSelector: \"(item['photo-caption'])||data.tumblelog.title\",\r\n                    txtSelector: \"(helpers.stripHtml(item['regular-body']))||(item['regular-title'])||item['photo-caption']\",\r\n                    dateSelector: \"item.date\",\r\n                    imgSrcSelector: \"item['photo-url-250']\",\r\n                    imgSrcProcessor: null,\r\n                    imgHrefSelector: \"item.url\",\r\n                    imgAltSelector: \"(item['regular-title'])||item.tags.toString()\",\r\n                    link: \"#\",\r\n                    preProcessor: null,\r\n                    preCondition: \"true\"}\r\n                \r\n                },\r\n                digg:{url:'http://digg.com/'},\r\n                flickr:{url:'http://api.flickr.com/services/rest/?extras=tags%2Cdescription%2Cdate_upload&nojsoncallback=1&api_key=|apiKey|&method=flickr.people.getPublicPhotos&format=json&per_page=|num|&user_id=|id|',dataType:'json',parser:{\r\n                    name: \"flickr\",\r\n                    resultsSelector: \"data.photos.photo\",\r\n                    heading: \"Flickr\",\r\n                    headingSelector: \"item.title\",\r\n                    dateSelector: \"new Date(item.dateupload)\",\r\n                    txtSelector: \"(item.description._content)||item.tags\",\r\n                    imgSrcSelector: \"'http://farm' + item.farm + '.staticflickr.com/' + item.server + '/' + item.id + '_' + item.secret + '_n.jpg'\",\r\n                    imgHrefSelector: \"\\\"http://flickr.com/photos/\\\" + item.owner + \\\"/\\\" + item.id + \\\"\\\"\",\r\n                    imgAltSelector: \"item.title\",\r\n                    imgSrcProcessor: null,\r\n                    preCondition: \"true\"\r\n                   }\r\n                },\r\n                googleplus:{url:'https://plus.google.com/|id|',dataType:'text',parser:{\r\n                    name: \"google\",\r\n                    resultsSelector:\"$(data.responseText).find('div.zg:lt(|num|)')\",\r\n                    heading: \"Google+\",\r\n                    headingSelector: \"$elem.find('a.YF').text()\",\r\n                    txtSelector: \"$elem.find('div.XF').text()\",\r\n                    imgSrcSelector: \"$elem.find('a.Mn img').attr('src')\",                    \r\n                    imgSrcProcessor: null,\r\n                    imgHrefSelector: \"$elem.find('a.YF').attr('href')\",\r\n                    imgAltSelector: \"($elem.find('a.Mn img').attr('alt'))||'Google'\",\r\n                    dateSelector: \"$elem.parents('div.qf').find('a.Bf').text()\",\r\n                    link: \"#\",\r\n                    preProcessor: null,\r\n                    preCondition: \"true\"}\r\n                },\r\n                pinterest:{url:'http://pinterest.com/|id|/',dataType:\"text\",parser:{\r\n                    name: \"pinterest\",\r\n                    resultsSelector:\"$(data.responseText).find('div.pin:lt(|num|),a.PinImage:lt(|num|)')\",\r\n                    heading: \"Pinterest\",\r\n                    headingSelector: \"($elem.find('p.NoImage a').text())||$elem.find('.serif a').text()\",\r\n                    txtSelector: \"($elem.find('img').attr('alt'))||$elem.find('.serif a').text()\",\r\n                    imgSrcSelector: \"($elem.find('img.PinImageImg').attr('src'))||$elem.find('span.cover img').attr('src')\",\r\n                    imgSrcProcessor: null,\r\n                    imgHrefSelector: \"\\\"http://pinterest.com\\\"+(($elem.find('a.link').attr('href'))||$elem.find('a.PinImage').attr('href'))\",\r\n                    imgAltSelector: \"($elem.find('img').attr('alt'))||'Pinterest'\",\r\n                    link: \"#\",\r\n                    preProcessor: null,\r\n                    preCondition: \"true\"\r\n                    }\r\n               },\r\n               quora:{url:'http://www.quora.com/|id|/feed/',dataType:\"text\",parser:{\r\n                    name: \"quora\",\r\n                    resultsSelector:\"$(data.responseText).find('div.feed_item:lt(|num|)')\",\r\n                    heading: \"Quora\",\r\n                    headingSelector: \"$elem.find('a.question_link').text()\",\r\n                    txtSelector: \"($elem.find('div.truncated_q_text:first-child').text())\",\r\n                    imgSrcSelector: \"\",                    \r\n                    imgSrcProcessor: null,\r\n                    imgHrefSelector: \"$elem.find('a').attr('href')\",\r\n                    imgAltSelector: \"$elem.find('a').text()\",\r\n                    dateSelector: \"$elem.find('span.timestamp').text()\",\r\n                    link: \"#\",\r\n                    preProcessor: null,\r\n                    preCondition: \"true\"}\r\n               },\r\n               craigslist:{url:\"http://|areaName|.craigslist.org/|id|\",dataType:\"text\",parser:{\r\n                    name: \"craigslist\",\r\n                    resultsSelector:\"$(data.responseText).find(\\\"p.row:contains('pic'):lt(|num|)\\\")\",\r\n                    heading: \"Craigslist\",\r\n                    headingSelector: null,\r\n                    txtSelector: \"helpers.fixCase($elem.find('a,font').text())\",\r\n                    imgSrcSelector: \"\\\"http://images.craigslist.org/\\\"+$elem.find(\\\"span.ih[id]\\\").attr('id')\",\r\n                    imgSrcProcessor: \"imgSrc.replace('images:',\\\"\\\")\",\r\n                    imgHrefSelector: \"$elem.find('a').attr('href')\",\r\n                    imgAltSelector: \"$elem.find('span.itempp').text()\",\r\n                    link: \"#\",\r\n                    preProcessor: null,\r\n                    preCondition: \"true\"}\r\n                }\r\n            },\r\n            cb:function(jsonStr) {\r\n                return jsonStr;\r\n            },\r\n            fixCase:function(string)\r\n            {\r\n                if (string===null)\r\n                    return;\r\n                \r\n                return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\r\n            },\r\n            shorten:function(string,length)\r\n            {\r\n                if (typeof string===\"undefined\" || string===null)\r\n                    return;\r\n            \r\n                if (string.length > length)\r\n                    return string.substring(0,length) + \"..\";\r\n                else\r\n                    return string;\r\n            },\r\n            stripHtml:function(w)\r\n            {\r\n                if (typeof w===\"undefined\" || w===null)\r\n                    return;\r\n            \r\n                return w.replace(/(<([^>]+)>)|nbsp;|\\s{2,}|/ig,\"\");\r\n\r\n            },\r\n            timeAgo:function(date_str){\r\n                date_str = date_str.replace('+0000','Z');\r\n                var time_formats = [\r\n                    [60, 'just now', 1],\r\n                    [120, '1 minute ago', '1 minute from now'],\r\n                    [3600, 'minutes', 60], \r\n                    [7200, '1 hour ago', '1 hour from now'],\r\n                    [86400, 'hours', 3600], \r\n                    [172800, 'yesterday', 'tomorrow'], \r\n                    [604800, 'days', 86400], \r\n                    [1209600, 'last week', 'next week'], \r\n                    [2419200, 'weeks', 604800], \r\n                    [4838400, 'last month', 'next month'], \r\n                    [29030400, 'months', 2419200], \r\n                    [58060800, 'last year', 'next year'], \r\n                    [2903040000, 'years', 29030400], \r\n                    [5806080000, 'last century', 'next century'], \r\n                    [58060800000, 'centuries', 2903040000] \r\n                ];\r\n                var time = ('' + date_str).replace(/-/g,\"/\").replace(/[TZ]/g,\" \").replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\r\n                if(time.substr(time.length-4,1)==\".\") time =time.substr(0,time.length-4);\r\n                var seconds = (new Date - new Date(time)) / 1000;\r\n                var token = 'ago', list_choice = 1;\r\n                if (seconds < 0) {\r\n                    seconds = Math.abs(seconds);\r\n                    token = 'from now';\r\n                    list_choice = 2;\r\n                }\r\n                var i = 0, format;\r\n                while (format = time_formats[i++])\r\n                    if (seconds < format[0]) {\r\n                        if (typeof format[2] == 'string')\r\n                            return format[list_choice];\r\n                        else\r\n                            return Math.floor(seconds / format[2]) + ' ' + format[1] + ' ' + token;\r\n                    }\r\n                return time;\r\n            },                \r\n            fixTwitterDate: function(created_at) {\r\n                var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\r\n                var pattern = /\\s/;\r\n                var day_of_week,day,month_pos,month,year,time;\r\n                created_at = created_at.split(pattern);\r\n                for (var i = 0; i < created_at.length; i++){\r\n                    day_of_week = created_at[0];\r\n                    day = created_at[2];\r\n                    month_pos = created_at[1];\r\n                    month = 0 + months.indexOf(month_pos) + 1; // add 1 because array starts from zero\r\n                    year = created_at[5];\r\n                    time = created_at[3];\r\n                }\r\n                created_at = year+'-'+month+'-'+day+'T'+time+'Z';\r\n                \r\n                if(created_at !== undefined)\r\n                    return created_at;\r\n            }\r\n        }\r\n\r\n        if (methods[method]) {\r\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\r\n        } else if (typeof method === 'object' || !method) {\r\n            return methods.init.apply(this, arguments);\r\n        } else {\r\n            $.error( 'Method \"' +  method + '\" does not exist in social plugin');\r\n        }\r\n\r\n    }\r\n\r\n    $.fn.socialist.defaults = {\r\n        networks: [{name:'linkedin',id:'iatek-llc'},{name:'pinterest',id:'carolskelly/in1-com'},{name:'twitter',id:'in1dotcom'}],\r\n        random: true,\r\n        isotope: true,\r\n        headingLength: 31,\r\n        textLength: 160,\r\n        maxResults: 7,\r\n        autoShow: true,\r\n        fields:['source','heading','text','date','image','followers','likes','share']\r\n    }\r\n\r\n    $.fn.socialist.settings = {}\r\n\r\n})(jQuery);\r\n\r\n\r\n// begin dependencies\r\n\r\n/**\r\n * jQuery.ajax mid - CROSS DOMAIN AJAX \r\n * ---\r\n * @author James Padolsey (http://james.padolsey.com)\r\n * @version 0.11\r\n * @updated 12-JAN-10\r\n * ---\r\n * Note: Read the README!\r\n * ---\r\n * @info http://james.padolsey.com/javascript/cross-domain-requests-with-jquery/\r\n */\r\n\r\njQuery.ajax = (function(_ajax){\r\n    \r\n    var protocol = location.protocol,\r\n        hostname = location.hostname,\r\n        exRegex = RegExp(protocol + '//' + hostname),\r\n        YQL = 'http' + (/^https/.test(protocol)?'s':'') + '://query.yahooapis.com/v1/public/yql?callback=?',\r\n        query = 'select * from html where url=\"{URL}\" and xpath=\"*\"';\r\n    \r\n    function isExternal(url) {\r\n        return !exRegex.test(url) && /:\\/\\//.test(url);\r\n    }\r\n    \r\n    return function(o) {\r\n        \r\n        var url = o.url;\r\n        \r\n        if ( /get/i.test(o.type) && !/json/i.test(o.dataType) && isExternal(url) ) {\r\n            \r\n            // Manipulate options so that JSONP-x request is made to YQL\r\n            \r\n            o.url = YQL;\r\n            o.dataType = 'json';\r\n            \r\n            o.data = {\r\n                q: query.replace(\r\n                    '{URL}',\r\n                    url + (o.data ?\r\n                        (/\\?/.test(url) ? '&' : '?') + jQuery.param(o.data)\r\n                    : '')\r\n                ),\r\n                format: 'xml'\r\n            };\r\n            \r\n            // Since it's a JSONP request\r\n            // complete === success\r\n            if (!o.success && o.complete) {\r\n                o.success = o.complete;\r\n                delete o.complete;\r\n            }\r\n            \r\n            o.success = (function(_success){\r\n                return function(data) {\r\n                    \r\n                    if (_success) {\r\n                        // Fake XHR callback.\r\n                        _success.call(this, {\r\n                            responseText: (data.results[0] || '')\r\n                                // YQL screws with <script>s\r\n                                // Get rid of them\r\n                                .replace(/<script[^>]+?\\/>|<script(.|\\s)*?\\/script>/gi, '')\r\n                        }, 'success');\r\n                    }\r\n                    \r\n                };\r\n            })(o.success);\r\n            \r\n        }\r\n        \r\n        return _ajax.apply(this, arguments);\r\n        \r\n    };\r\n    \r\n})(jQuery.ajax);\r\n\r\n/**\r\n * Isotope v1.5.19\r\n * An exquisite jQuery plugin for magical layouts\r\n * http://isotope.metafizzy.co\r\n *\r\n * Commercial use requires one-time license fee\r\n * http://metafizzy.co/#licenses\r\n *\r\n * Copyright 2012 David DeSandro / Metafizzy\r\n */\r\n(function(a,b,c){\"use strict\";var d=a.document,e=a.Modernizr,f=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},g=\"Moz Webkit O Ms\".split(\" \"),h=function(a){var b=d.documentElement.style,c;if(typeof b[a]==\"string\")return a;a=f(a);for(var e=0,h=g.length;e<h;e++){c=g[e]+a;if(typeof b[c]==\"string\")return c}},i=h(\"transform\"),j=h(\"transitionProperty\"),k={csstransforms:function(){return!!i},csstransforms3d:function(){var a=!!h(\"perspective\");if(a){var c=\" -o- -moz- -ms- -webkit- -khtml- \".split(\" \"),d=\"@media (\"+c.join(\"transform-3d),(\")+\"modernizr)\",e=b(\"<style>\"+d+\"{#modernizr{height:3px}}\"+\"</style>\").appendTo(\"head\"),f=b('<div id=\"modernizr\" />').appendTo(\"html\");a=f.height()===3,f.remove(),e.remove()}return a},csstransitions:function(){return!!j}},l;if(e)for(l in k)e.hasOwnProperty(l)||e.addTest(l,k[l]);else{e=a.Modernizr={_version:\"1.6ish: miniModernizr for Isotope\"};var m=\" \",n;for(l in k)n=k[l](),e[l]=n,m+=\" \"+(n?\"\":\"no-\")+l;b(\"html\").addClass(m)}if(e.csstransforms){var o=e.csstransforms3d?{translate:function(a){return\"translate3d(\"+a[0]+\"px, \"+a[1]+\"px, 0) \"},scale:function(a){return\"scale3d(\"+a+\", \"+a+\", 1) \"}}:{translate:function(a){return\"translate(\"+a[0]+\"px, \"+a[1]+\"px) \"},scale:function(a){return\"scale(\"+a+\") \"}},p=function(a,c,d){var e=b.data(a,\"isoTransform\")||{},f={},g,h={},j;f[c]=d,b.extend(e,f);for(g in e)j=e[g],h[g]=o[g](j);var k=h.translate||\"\",l=h.scale||\"\",m=k+l;b.data(a,\"isoTransform\",e),a.style[i]=m};b.cssNumber.scale=!0,b.cssHooks.scale={set:function(a,b){p(a,\"scale\",b)},get:function(a,c){var d=b.data(a,\"isoTransform\");return d&&d.scale?d.scale:1}},b.fx.step.scale=function(a){b.cssHooks.scale.set(a.elem,a.now+a.unit)},b.cssNumber.translate=!0,b.cssHooks.translate={set:function(a,b){p(a,\"translate\",b)},get:function(a,c){var d=b.data(a,\"isoTransform\");return d&&d.translate?d.translate:[0,0]}}}var q,r;e.csstransitions&&(q={WebkitTransitionProperty:\"webkitTransitionEnd\",MozTransitionProperty:\"transitionend\",OTransitionProperty:\"oTransitionEnd\",transitionProperty:\"transitionEnd\"}[j],r=h(\"transitionDuration\"));var s=b.event,t;s.special.smartresize={setup:function(){b(this).bind(\"resize\",s.special.smartresize.handler)},teardown:function(){b(this).unbind(\"resize\",s.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type=\"smartresize\",t&&clearTimeout(t),t=setTimeout(function(){jQuery.event.handle.apply(c,d)},b===\"execAsap\"?0:100)}},b.fn.smartresize=function(a){return a?this.bind(\"smartresize\",a):this.trigger(\"smartresize\",[\"execAsap\"])},b.Isotope=function(a,c,d){this.element=b(c),this._create(a),this._init(d)};var u=[\"width\",\"height\"],v=b(a);b.Isotope.settings={resizable:!0,layoutMode:\"masonry\",containerClass:\"isotope\",itemClass:\"isotope-item\",hiddenClass:\"isotope-hidden\",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:\"relative\",overflow:\"hidden\"},animationEngine:\"best-available\",animationOptions:{queue:!1,duration:800},sortBy:\"original-order\",sortAscending:!0,resizesContainer:!0,transformsEnabled:!b.browser.opera,itemPositionDataEnabled:!1},b.Isotope.prototype={_create:function(a){this.options=b.extend({},b.Isotope.settings,a),this.styleQueue=[],this.elemCount=0;var c=this.element[0].style;this.originalStyle={};var d=u.slice(0);for(var e in this.options.containerStyle)d.push(e);for(var f=0,g=d.length;f<g;f++)e=d[f],this.originalStyle[e]=c[e]||\"\";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var h={\"original-order\":function(a,b){return b.elemCount++,b.elemCount},random:function(){return Math.random()}};this.options.getSortData=b.extend(this.options.getSortData,h),this.reloadItems(),this.offset={left:parseInt(this.element.css(\"padding-left\")||0,10),top:parseInt(this.element.css(\"padding-top\")||0,10)};var i=this;setTimeout(function(){i.element.addClass(i.options.containerClass)},0),this.options.resizable&&v.bind(\"smartresize.isotope\",function(){i.resize()}),this.element.delegate(\".\"+this.options.hiddenClass,\"click\",function(){return!1})},_getAtoms:function(a){var b=this.options.itemSelector,c=b?a.filter(b).add(a.find(b)):a,d={position:\"absolute\"};return this.usingTransforms&&(d.left=0,d.top=0),c.css(d).addClass(this.options.itemClass),this.updateSortData(c,!0),c},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(a)},option:function(a){if(b.isPlainObject(a)){this.options=b.extend(!0,this.options,a);var c;for(var d in a)c=\"_update\"+f(d),this[c]&&this[c]()}},_updateAnimationEngine:function(){var a=this.options.animationEngine.toLowerCase().replace(/[ _\\-]/g,\"\"),b;switch(a){case\"css\":case\"none\":b=!1;break;case\"jquery\":b=!0;break;default:b=!e.csstransitions}this.isUsingJQueryAnimation=b,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var a=this.usingTransforms=this.options.transformsEnabled&&e.csstransforms&&e.csstransitions&&!this.isUsingJQueryAnimation;a||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=a?this._translate:this._positionAbs},_filter:function(a){var b=this.options.filter===\"\"?\"*\":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,d=\".\"+c,e=a.filter(d),f=e;if(b!==\"*\"){f=e.filter(b);var g=a.not(d).not(b).addClass(c);this.styleQueue.push({$el:g,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:f,style:this.options.visibleStyle}),f.removeClass(c),a.filter(b)},updateSortData:function(a,c){var d=this,e=this.options.getSortData,f,g;a.each(function(){f=b(this),g={};for(var a in e)!c&&a===\"original-order\"?g[a]=b.data(this,\"isotope-sort-data\")[a]:g[a]=e[a](f,d);b.data(this,\"isotope-sort-data\",g)})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1,d=function(d,e){var f=b(d,a),g=b(e,a);return f===g&&a!==\"original-order\"&&(f=b(d,\"original-order\"),g=b(e,\"original-order\")),(f>g?1:f<g?-1:0)*c};this.$filteredAtoms.sort(d)},_getSorter:function(a,c){return b.data(a,\"isotope-sort-data\")[c]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,b,c){b=Math.round(b+this.offset.left),c=Math.round(c+this.offset.top);var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d}),this.options.itemPositionDataEnabled&&a.data(\"isotope-item-position\",{x:b,y:c})},layout:function(a,b){var c=this.options.layoutMode;this[\"_\"+c+\"Layout\"](a);if(this.options.resizesContainer){var d=this[\"_\"+c+\"GetContainerSize\"]();this.styleQueue.push({$el:this.element,style:d})}this._processStyleQueue(a,b),this.isLaidOut=!0},_processStyleQueue:function(a,c){var d=this.isLaidOut?this.isUsingJQueryAnimation?\"animate\":\"css\":\"css\",f=this.options.animationOptions,g=this.options.onLayout,h,i,j,k;i=function(a,b){b.$el[d](b.style,f)};if(this._isInserting&&this.isUsingJQueryAnimation)i=function(a,b){h=b.$el.hasClass(\"no-transition\")?\"css\":d,b.$el[h](b.style,f)};else if(c||g||f.complete){var l=!1,m=[c,g,f.complete],n=this;j=!0,k=function(){if(l)return;var b;for(var c=0,d=m.length;c<d;c++)b=m[c],typeof b==\"function\"&&b.call(n.element,a,n);l=!0};if(this.isUsingJQueryAnimation&&d===\"animate\")f.complete=k,j=!1;else if(e.csstransitions){var o=0,p=this.styleQueue[0],s=p&&p.$el,t;while(!s||!s.length){t=this.styleQueue[o++];if(!t)return;s=t.$el}var u=parseFloat(getComputedStyle(s[0])[r]);u>0&&(i=function(a,b){b.$el[d](b.style,f).one(q,k)},j=!1)}}b.each(this.styleQueue,i),j&&k(),this.styleQueue=[]},resize:function(){this[\"_\"+this.options.layoutMode+\"ResizeChanged\"]()&&this.reLayout()},reLayout:function(a){this[\"_\"+this.options.layoutMode+\"Reset\"](),this.layout(this.$filteredAtoms,a)},addItems:function(a,b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c),b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){var d=c._filter(a);c._addHideAppended(d),c._sort(),c.reLayout(),c._revealAppended(d,b)})},appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a),c.layout(a),c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a),a.addClass(\"no-transition\"),this._isInserting=!0,this.styleQueue.push({$el:a,style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass(\"no-transition\"),c.styleQueue.push({$el:a,style:c.options.visibleStyle}),c._isInserting=!1,c._processStyleQueue(a,b)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a,b){var c=this,d=function(){c.$allAtoms=c.$allAtoms.not(a),a.remove(),b&&b.call(c.element)};a.filter(\":not(.\"+this.options.hiddenClass+\")\").length?(this.styleQueue.push({$el:a,style:this.options.hiddenStyle}),this.$filteredAtoms=this.$filteredAtoms.not(a),this._sort(),this.reLayout(d)):d()},shuffle:function(a){this.updateSortData(this.$allAtoms),this.options.sortBy=\"random\",this._sort(),this.reLayout(a)},destroy:function(){var a=this.usingTransforms,b=this.options;this.$allAtoms.removeClass(b.hiddenClass+\" \"+b.itemClass).each(function(){var b=this.style;b.position=\"\",b.top=\"\",b.left=\"\",b.opacity=\"\",a&&(b[i]=\"\")});var c=this.element[0].style;for(var d in this.originalStyle)c[d]=this.originalStyle[d];this.element.unbind(\".isotope\").undelegate(\".\"+b.hiddenClass,\"click\").removeClass(b.containerClass).removeData(\"isotope\"),v.unbind(\".isotope\")},_getSegments:function(a){var b=this.options.layoutMode,c=a?\"rowHeight\":\"columnWidth\",d=a?\"height\":\"width\",e=a?\"rows\":\"cols\",g=this.element[d](),h,i=this.options[b]&&this.options[b][c]||this.$filteredAtoms[\"outer\"+f(d)](!0)||g;h=Math.floor(g/i),h=Math.max(h,1),this[b][e]=h,this[b][c]=i},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,c=a?\"rows\":\"cols\",d=this[b][c];return this._getSegments(a),this[b][c]!==d},_masonryReset:function(){this.masonry={},this._getSegments();var a=this.masonry.cols;this.masonry.colYs=[];while(a--)this.masonry.colYs.push(0)},_masonryLayout:function(a){var c=this,d=c.masonry;a.each(function(){var a=b(this),e=Math.ceil(a.outerWidth(!0)/d.columnWidth);e=Math.min(e,d.cols);if(e===1)c._masonryPlaceBrick(a,d.colYs);else{var f=d.cols+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.colYs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryPlaceBrick(a,g)}})},_masonryPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=this.masonry.columnWidth*d,h=c;this._pushPosition(a,g,h);var i=c+a.outerHeight(!0),j=this.masonry.cols+1-f;for(e=0;e<j;e++)this.masonry.colYs[d+e]=i},_masonryGetContainerSize:function(){var a=Math.max.apply(Math,this.masonry.colYs);return{height:a}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(a){var c=this,d=this.element.width(),e=this.fitRows;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.x!==0&&f+e.x>d&&(e.x=0,e.y=e.height),c._pushPosition(a,e.x,e.y),e.height=Math.max(e.y+g,e.height),e.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(a){var c=this,d=this.cellsByRow;a.each(function(){var a=b(this),e=d.index%d.cols,f=Math.floor(d.index/d.cols),g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,0,c.straightDown.y),c.straightDown.y+=d.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var a=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(a--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var c=this,d=c.masonryHorizontal;a.each(function(){var a=b(this),e=Math.ceil(a.outerHeight(!0)/d.rowHeight);e=Math.min(e,d.rows);if(e===1)c._masonryHorizontalPlaceBrick(a,d.rowXs);else{var f=d.rows+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.rowXs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryHorizontalPlaceBrick(a,g)}})},_masonryHorizontalPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=c,h=this.masonryHorizontal.rowHeight*d;this._pushPosition(a,g,h);var i=c+a.outerWidth(!0),j=this.masonryHorizontal.rows+1-f;for(e=0;e<j;e++)this.masonryHorizontal.rowXs[d+e]=i},_masonryHorizontalGetContainerSize:function(){var a=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:a}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var c=this,d=this.element.height(),e=this.fitColumns;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.y!==0&&g+e.y>d&&(e.x=e.width,e.y=0),c._pushPosition(a,e.x,e.y),e.width=Math.max(e.x+f,e.width),e.y+=g})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(a){var c=this,d=this.cellsByColumn;a.each(function(){var a=b(this),e=Math.floor(d.index/d.rows),f=d.index%d.rows,g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,c.straightAcross.x,0),c.straightAcross.x+=d.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},b.fn.imagesLoaded=function(a){function h(){a.call(c,d)}function i(a){var c=a.target;c.src!==f&&b.inArray(c,g)===-1&&(g.push(c),--e<=0&&(setTimeout(h),d.unbind(\".imagesLoaded\",i)))}var c=this,d=c.find(\"img\").add(c.filter(\"img\")),e=d.length,f=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\",g=[];return e||h(),d.bind(\"load.imagesLoaded error.imagesLoaded\",i).each(function(){var a=this.src;this.src=f,this.src=a}),c};var w=function(b){a.console&&a.console.error(b)};b.fn.isotope=function(a,c){if(typeof a==\"string\"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var c=b.data(this,\"isotope\");if(!c){w(\"cannot call methods on isotope prior to initialization; attempted to call method '\"+a+\"'\");return}if(!b.isFunction(c[a])||a.charAt(0)===\"_\"){w(\"no such method '\"+a+\"' for isotope instance\");return}c[a].apply(c,d)})}else this.each(function(){var d=b.data(this,\"isotope\");d?(d.option(a),d._init(c)):b.data(this,\"isotope\",new b.Isotope(a,this,c))});return this}})(window,jQuery);\r\n\r\n// end dependencies"]],"start1":0,"start2":0,"length1":20756,"length2":47253}]],"length":47253,"saved":false}
{"ts":1345114301769,"patch":[[{"diffs":[[0,"Request("],[1,"settings."],[0,"feed,\"js"]],"start1":1174,"start2":1174,"length1":16,"length2":25}]],"length":47262,"saved":false}
